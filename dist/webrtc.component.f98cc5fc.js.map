{"mappings":"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ACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACrEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACjEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;ACnEA;;AAEA;AACA;AACA;AAEAc,OAAO,CAACC,UAAR,GAAqBA,UAArB;AACAD,OAAO,CAACE,IAAR,GAAeA,IAAf;AACAF,OAAO,CAACG,IAAR,GAAeA,IAAf;AACAH,OAAO,CAACI,SAAR,GAAoBA,SAApB;AACAJ,OAAO,CAACK,OAAR,GAAkBC,YAAY,EAA9B;;AACAN,OAAO,CAACO,OAAR,GAAkB,CAAC,MAAM;AACx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AR,GAAeF,IAAf;AACAhE,OAAO,CAACmE,GAAR,GAAcH,IAAd;AACAhE,OAAO,CAACoE,cAAR,GAAyBJ,IAAzB;AACAhE,OAAO,CAACqE,kBAAR,GAA6BL,IAA7B;AACAhE,OAAO,CAAC9G,IAAR,GAAe8K,IAAf;AACAhE,OAAO,CAACsE,eAAR,GAA0BN,IAA1B;AACAhE,OAAO,CAACuE,mBAAR,GAA8BP,IAA9B;;AAEAhE,OAAO,CAACwE,SAAR,GAAoB,UAAUC,IAAV,EAAgB;AAAE,SAAO,EAAP;AAAW,CAAjD;;AAEAzE,OAAO,CAAC0E,OAAR,GAAkB,UAAUD,IAAV,EAAgB;AAC9B,QAAM,IAAIpC,KAAJ,CAAU,kCAAV,CAAN;AACH,CAFD;;AAIArC,OAAO,CAAC2E,GAAR,GAAc,YAAY;AAAE,SAAO,GAAP;AAAY,CAAxC;;AACA3E,OAAO,CAAC4E,KAAR,GAAgB,UAAUC,GAAV,EAAe;AAC3B,QAAM,IAAIxC,KAAJ,CAAU,gCAAV,CAAN;AACH,CAFD;;AAGArC,OAAO,CAAC8E,KAAR,GAAgB,YAAW;AAAE,SAAO,CAAP;AAAW,CAAxC;;ACvLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACpQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACjKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AChXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACzpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC5CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACvCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC/UA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACjNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACpHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACzCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC7CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACxDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC1DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC9KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACpCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACnEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;ACtNA,MAAMC,SAAS,GAAGjD,OAAO,CAAC,cAAD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A;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACrJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACpFA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC5cA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACvRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC/EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACtDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["./node_modules/@parcel/runtime-browser-hmr/lib/HMRRuntime.js","./assets/components/webrtc.component.js","../../../../node_modules/socket.io-client/build/index.js","../../../../node_modules/socket.io-client/build/url.js","../../../../node_modules/parseuri/index.js","../../../../node_modules/debug/src/browser.js","./node_modules/process/browser.js","../../../../node_modules/debug/src/common.js","../../../../node_modules/ms/index.js","../../../../node_modules/socket.io-client/build/manager.js","../../../../node_modules/engine.io-client/lib/index.js","../../../../node_modules/engine.io-client/lib/socket.js","../../../../node_modules/engine.io-client/lib/transports/index.js","../../../../node_modules/engine.io-client/lib/xmlhttprequest.js","../../../../node_modules/has-cors/index.js","../../../../node_modules/engine.io-client/lib/globalThis.browser.js","../../../../node_modules/engine.io-client/lib/transports/polling-xhr.js","../../../../node_modules/engine.io-client/lib/transports/polling.js","../../../../node_modules/engine.io-client/lib/transport.js","../../../../node_modules/engine.io-parser/lib/index.js","../../../../node_modules/engine.io-parser/lib/encodePacket.browser.js","../../../../node_modules/engine.io-parser/lib/commons.js","../../../../node_modules/engine.io-parser/lib/decodePacket.browser.js","../../../../node_modules/base64-arraybuffer/lib/base64-arraybuffer.js","../../../../node_modules/component-emitter/index.js","../../../../node_modules/parseqs/index.js","../../../../node_modules/yeast/index.js","../../../../node_modules/engine.io-client/lib/util.js","../../../../node_modules/engine.io-client/lib/transports/polling-jsonp.js","../../../../node_modules/engine.io-client/lib/transports/websocket.js","./node_modules/buffer/index.js","./node_modules/base64-js/index.js","./node_modules/ieee754/index.js","../../../../node_modules/engine.io-client/lib/transports/websocket-constructor.browser.js","../../../../node_modules/socket.io-client/build/socket.js","../../../../node_modules/socket.io-parser/dist/index.js","../../../../node_modules/socket.io-parser/dist/binary.js","../../../../node_modules/socket.io-parser/dist/is-binary.js","../../../../node_modules/socket.io-client/build/on.js","../../../../node_modules/backo2/index.js"],"sourcesContent":[null,null,"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Socket = exports.io = exports.Manager = exports.protocol = void 0;\nconst url_1 = require(\"./url\");\nconst manager_1 = require(\"./manager\");\nconst socket_1 = require(\"./socket\");\nObject.defineProperty(exports, \"Socket\", { enumerable: true, get: function () { return socket_1.Socket; } });\nconst debug = require(\"debug\")(\"socket.io-client\");\n/**\n * Module exports.\n */\nmodule.exports = exports = lookup;\n/**\n * Managers cache.\n */\nconst cache = (exports.managers = {});\nfunction lookup(uri, opts) {\n    if (typeof uri === \"object\") {\n        opts = uri;\n        uri = undefined;\n    }\n    opts = opts || {};\n    const parsed = url_1.url(uri, opts.path);\n    const source = parsed.source;\n    const id = parsed.id;\n    const path = parsed.path;\n    const sameNamespace = cache[id] && path in cache[id][\"nsps\"];\n    const newConnection = opts.forceNew ||\n        opts[\"force new connection\"] ||\n        false === opts.multiplex ||\n        sameNamespace;\n    let io;\n    if (newConnection) {\n        debug(\"ignoring socket cache for %s\", source);\n        io = new manager_1.Manager(source, opts);\n    }\n    else {\n        if (!cache[id]) {\n            debug(\"new io instance for %s\", source);\n            cache[id] = new manager_1.Manager(source, opts);\n        }\n        io = cache[id];\n    }\n    if (parsed.query && !opts.query) {\n        opts.query = parsed.queryKey;\n    }\n    return io.socket(parsed.path, opts);\n}\nexports.io = lookup;\n/**\n * Protocol version.\n *\n * @public\n */\nvar socket_io_parser_1 = require(\"socket.io-parser\");\nObject.defineProperty(exports, \"protocol\", { enumerable: true, get: function () { return socket_io_parser_1.protocol; } });\n/**\n * `connect`.\n *\n * @param {String} uri\n * @public\n */\nexports.connect = lookup;\n/**\n * Expose constructors for standalone build.\n *\n * @public\n */\nvar manager_2 = require(\"./manager\");\nObject.defineProperty(exports, \"Manager\", { enumerable: true, get: function () { return manager_2.Manager; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.url = void 0;\nconst parseuri = require(\"parseuri\");\nconst debug = require(\"debug\")(\"socket.io-client:url\");\n/**\n * URL parser.\n *\n * @param uri - url\n * @param path - the request path of the connection\n * @param loc - An object meant to mimic window.location.\n *        Defaults to window.location.\n * @public\n */\nfunction url(uri, path = \"\", loc) {\n    let obj = uri;\n    // default to window.location\n    loc = loc || (typeof location !== \"undefined\" && location);\n    if (null == uri)\n        uri = loc.protocol + \"//\" + loc.host;\n    // relative path support\n    if (typeof uri === \"string\") {\n        if (\"/\" === uri.charAt(0)) {\n            if (\"/\" === uri.charAt(1)) {\n                uri = loc.protocol + uri;\n            }\n            else {\n                uri = loc.host + uri;\n            }\n        }\n        if (!/^(https?|wss?):\\/\\//.test(uri)) {\n            debug(\"protocol-less url %s\", uri);\n            if (\"undefined\" !== typeof loc) {\n                uri = loc.protocol + \"//\" + uri;\n            }\n            else {\n                uri = \"https://\" + uri;\n            }\n        }\n        // parse\n        debug(\"parse %s\", uri);\n        obj = parseuri(uri);\n    }\n    // make sure we treat `localhost:80` and `localhost` equally\n    if (!obj.port) {\n        if (/^(http|ws)$/.test(obj.protocol)) {\n            obj.port = \"80\";\n        }\n        else if (/^(http|ws)s$/.test(obj.protocol)) {\n            obj.port = \"443\";\n        }\n    }\n    obj.path = obj.path || \"/\";\n    const ipv6 = obj.host.indexOf(\":\") !== -1;\n    const host = ipv6 ? \"[\" + obj.host + \"]\" : obj.host;\n    // define unique id\n    obj.id = obj.protocol + \"://\" + host + \":\" + obj.port + path;\n    // define href\n    obj.href =\n        obj.protocol +\n            \"://\" +\n            host +\n            (loc && loc.port === obj.port ? \"\" : \":\" + obj.port);\n    return obj;\n}\nexports.url = url;\n","/**\n * Parses an URI\n *\n * @author Steven Levithan <stevenlevithan.com> (MIT license)\n * @api private\n */\n\nvar re = /^(?:(?![^:@]+:[^:@\\/]*@)(http|https|ws|wss):\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/;\n\nvar parts = [\n    'source', 'protocol', 'authority', 'userInfo', 'user', 'password', 'host', 'port', 'relative', 'path', 'directory', 'file', 'query', 'anchor'\n];\n\nmodule.exports = function parseuri(str) {\n    var src = str,\n        b = str.indexOf('['),\n        e = str.indexOf(']');\n\n    if (b != -1 && e != -1) {\n        str = str.substring(0, b) + str.substring(b, e).replace(/:/g, ';') + str.substring(e, str.length);\n    }\n\n    var m = re.exec(str || ''),\n        uri = {},\n        i = 14;\n\n    while (i--) {\n        uri[parts[i]] = m[i] || '';\n    }\n\n    if (b != -1 && e != -1) {\n        uri.source = src;\n        uri.host = uri.host.substring(1, uri.host.length - 1).replace(/;/g, ':');\n        uri.authority = uri.authority.replace('[', '').replace(']', '').replace(/;/g, ':');\n        uri.ipv6uri = true;\n    }\n\n    uri.pathNames = pathNames(uri, uri['path']);\n    uri.queryKey = queryKey(uri, uri['query']);\n\n    return uri;\n};\n\nfunction pathNames(obj, path) {\n    var regx = /\\/{2,9}/g,\n        names = path.replace(regx, \"/\").split(\"/\");\n\n    if (path.substr(0, 1) == '/' || path.length === 0) {\n        names.splice(0, 1);\n    }\n    if (path.substr(path.length - 1, 1) == '/') {\n        names.splice(names.length - 1, 1);\n    }\n\n    return names;\n}\n\nfunction queryKey(uri, query) {\n    var data = {};\n\n    query.replace(/(?:^|&)([^&=]*)=?([^&]*)/g, function ($0, $1, $2) {\n        if ($1) {\n            data[$1] = $2;\n        }\n    });\n\n    return data;\n}\n","/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\nexports.destroy = (() => {\n\tlet warned = false;\n\n\treturn () => {\n\t\tif (!warned) {\n\t\t\twarned = true;\n\t\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t\t}\n\t};\n})();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n\t'#0000CC',\n\t'#0000FF',\n\t'#0033CC',\n\t'#0033FF',\n\t'#0066CC',\n\t'#0066FF',\n\t'#0099CC',\n\t'#0099FF',\n\t'#00CC00',\n\t'#00CC33',\n\t'#00CC66',\n\t'#00CC99',\n\t'#00CCCC',\n\t'#00CCFF',\n\t'#3300CC',\n\t'#3300FF',\n\t'#3333CC',\n\t'#3333FF',\n\t'#3366CC',\n\t'#3366FF',\n\t'#3399CC',\n\t'#3399FF',\n\t'#33CC00',\n\t'#33CC33',\n\t'#33CC66',\n\t'#33CC99',\n\t'#33CCCC',\n\t'#33CCFF',\n\t'#6600CC',\n\t'#6600FF',\n\t'#6633CC',\n\t'#6633FF',\n\t'#66CC00',\n\t'#66CC33',\n\t'#9900CC',\n\t'#9900FF',\n\t'#9933CC',\n\t'#9933FF',\n\t'#99CC00',\n\t'#99CC33',\n\t'#CC0000',\n\t'#CC0033',\n\t'#CC0066',\n\t'#CC0099',\n\t'#CC00CC',\n\t'#CC00FF',\n\t'#CC3300',\n\t'#CC3333',\n\t'#CC3366',\n\t'#CC3399',\n\t'#CC33CC',\n\t'#CC33FF',\n\t'#CC6600',\n\t'#CC6633',\n\t'#CC9900',\n\t'#CC9933',\n\t'#CCCC00',\n\t'#CCCC33',\n\t'#FF0000',\n\t'#FF0033',\n\t'#FF0066',\n\t'#FF0099',\n\t'#FF00CC',\n\t'#FF00FF',\n\t'#FF3300',\n\t'#FF3333',\n\t'#FF3366',\n\t'#FF3399',\n\t'#FF33CC',\n\t'#FF33FF',\n\t'#FF6600',\n\t'#FF6633',\n\t'#FF9900',\n\t'#FF9933',\n\t'#FFCC00',\n\t'#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\n// eslint-disable-next-line complexity\nfunction useColors() {\n\t// NB: In an Electron preload script, document will be defined but not fully\n\t// initialized. Since we know we're in Chrome, we'll just detect this case\n\t// explicitly\n\tif (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n\t\treturn true;\n\t}\n\n\t// Internet Explorer and Edge do not support colors.\n\tif (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n\t\treturn false;\n\t}\n\n\t// Is webkit? http://stackoverflow.com/a/16459606/376773\n\t// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\treturn (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n\t\t// Is firebug? http://stackoverflow.com/a/398120/376773\n\t\t(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n\t\t// Is firefox >= v31?\n\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n\t\t// Double check webkit in userAgent just in case we are in a worker\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\targs[0] = (this.useColors ? '%c' : '') +\n\t\tthis.namespace +\n\t\t(this.useColors ? ' %c' : ' ') +\n\t\targs[0] +\n\t\t(this.useColors ? '%c ' : ' ') +\n\t\t'+' + module.exports.humanize(this.diff);\n\n\tif (!this.useColors) {\n\t\treturn;\n\t}\n\n\tconst c = 'color: ' + this.color;\n\targs.splice(1, 0, c, 'color: inherit');\n\n\t// The final \"%c\" is somewhat tricky, because there could be other\n\t// arguments passed either before or after the %c, so we need to\n\t// figure out the correct index to insert the CSS into\n\tlet index = 0;\n\tlet lastC = 0;\n\targs[0].replace(/%[a-zA-Z%]/g, match => {\n\t\tif (match === '%%') {\n\t\t\treturn;\n\t\t}\n\t\tindex++;\n\t\tif (match === '%c') {\n\t\t\t// We only are interested in the *last* %c\n\t\t\t// (the user may have provided their own)\n\t\t\tlastC = index;\n\t\t}\n\t});\n\n\targs.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.debug()` when available.\n * No-op when `console.debug` is not a \"function\".\n * If `console.debug` is not available, falls back\n * to `console.log`.\n *\n * @api public\n */\nexports.log = console.debug || console.log || (() => {});\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\ttry {\n\t\tif (namespaces) {\n\t\t\texports.storage.setItem('debug', namespaces);\n\t\t} else {\n\t\t\texports.storage.removeItem('debug');\n\t\t}\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\nfunction load() {\n\tlet r;\n\ttry {\n\t\tr = exports.storage.getItem('debug');\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n\n\t// If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\tif (!r && typeof process !== 'undefined' && 'env' in process) {\n\t\tr = process.env.DEBUG;\n\t}\n\n\treturn r;\n}\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n\ttry {\n\t\t// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n\t\t// The Browser also has localStorage in the global context.\n\t\treturn localStorage;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n\ttry {\n\t\treturn JSON.stringify(v);\n\t} catch (error) {\n\t\treturn '[UnexpectedJSONParseError]: ' + error.message;\n\t}\n};\n",null,"\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n\tcreateDebug.debug = createDebug;\n\tcreateDebug.default = createDebug;\n\tcreateDebug.coerce = coerce;\n\tcreateDebug.disable = disable;\n\tcreateDebug.enable = enable;\n\tcreateDebug.enabled = enabled;\n\tcreateDebug.humanize = require('ms');\n\tcreateDebug.destroy = destroy;\n\n\tObject.keys(env).forEach(key => {\n\t\tcreateDebug[key] = env[key];\n\t});\n\n\t/**\n\t* The currently active debug mode names, and names to skip.\n\t*/\n\n\tcreateDebug.names = [];\n\tcreateDebug.skips = [];\n\n\t/**\n\t* Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t*\n\t* Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n\t*/\n\tcreateDebug.formatters = {};\n\n\t/**\n\t* Selects a color for a debug namespace\n\t* @param {String} namespace The namespace string for the for the debug instance to be colored\n\t* @return {Number|String} An ANSI color code for the given namespace\n\t* @api private\n\t*/\n\tfunction selectColor(namespace) {\n\t\tlet hash = 0;\n\n\t\tfor (let i = 0; i < namespace.length; i++) {\n\t\t\thash = ((hash << 5) - hash) + namespace.charCodeAt(i);\n\t\t\thash |= 0; // Convert to 32bit integer\n\t\t}\n\n\t\treturn createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n\t}\n\tcreateDebug.selectColor = selectColor;\n\n\t/**\n\t* Create a debugger with the given `namespace`.\n\t*\n\t* @param {String} namespace\n\t* @return {Function}\n\t* @api public\n\t*/\n\tfunction createDebug(namespace) {\n\t\tlet prevTime;\n\t\tlet enableOverride = null;\n\n\t\tfunction debug(...args) {\n\t\t\t// Disabled?\n\t\t\tif (!debug.enabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst self = debug;\n\n\t\t\t// Set `diff` timestamp\n\t\t\tconst curr = Number(new Date());\n\t\t\tconst ms = curr - (prevTime || curr);\n\t\t\tself.diff = ms;\n\t\t\tself.prev = prevTime;\n\t\t\tself.curr = curr;\n\t\t\tprevTime = curr;\n\n\t\t\targs[0] = createDebug.coerce(args[0]);\n\n\t\t\tif (typeof args[0] !== 'string') {\n\t\t\t\t// Anything else let's inspect with %O\n\t\t\t\targs.unshift('%O');\n\t\t\t}\n\n\t\t\t// Apply any `formatters` transformations\n\t\t\tlet index = 0;\n\t\t\targs[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n\t\t\t\t// If we encounter an escaped % then don't increase the array index\n\t\t\t\tif (match === '%%') {\n\t\t\t\t\treturn '%';\n\t\t\t\t}\n\t\t\t\tindex++;\n\t\t\t\tconst formatter = createDebug.formatters[format];\n\t\t\t\tif (typeof formatter === 'function') {\n\t\t\t\t\tconst val = args[index];\n\t\t\t\t\tmatch = formatter.call(self, val);\n\n\t\t\t\t\t// Now we need to remove `args[index]` since it's inlined in the `format`\n\t\t\t\t\targs.splice(index, 1);\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\n\t\t\t// Apply env-specific formatting (colors, etc.)\n\t\t\tcreateDebug.formatArgs.call(self, args);\n\n\t\t\tconst logFn = self.log || createDebug.log;\n\t\t\tlogFn.apply(self, args);\n\t\t}\n\n\t\tdebug.namespace = namespace;\n\t\tdebug.useColors = createDebug.useColors();\n\t\tdebug.color = createDebug.selectColor(namespace);\n\t\tdebug.extend = extend;\n\t\tdebug.destroy = createDebug.destroy; // XXX Temporary. Will be removed in the next major release.\n\n\t\tObject.defineProperty(debug, 'enabled', {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: false,\n\t\t\tget: () => enableOverride === null ? createDebug.enabled(namespace) : enableOverride,\n\t\t\tset: v => {\n\t\t\t\tenableOverride = v;\n\t\t\t}\n\t\t});\n\n\t\t// Env-specific initialization logic for debug instances\n\t\tif (typeof createDebug.init === 'function') {\n\t\t\tcreateDebug.init(debug);\n\t\t}\n\n\t\treturn debug;\n\t}\n\n\tfunction extend(namespace, delimiter) {\n\t\tconst newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n\t\tnewDebug.log = this.log;\n\t\treturn newDebug;\n\t}\n\n\t/**\n\t* Enables a debug mode by namespaces. This can include modes\n\t* separated by a colon and wildcards.\n\t*\n\t* @param {String} namespaces\n\t* @api public\n\t*/\n\tfunction enable(namespaces) {\n\t\tcreateDebug.save(namespaces);\n\n\t\tcreateDebug.names = [];\n\t\tcreateDebug.skips = [];\n\n\t\tlet i;\n\t\tconst split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n\t\tconst len = split.length;\n\n\t\tfor (i = 0; i < len; i++) {\n\t\t\tif (!split[i]) {\n\t\t\t\t// ignore empty strings\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tnamespaces = split[i].replace(/\\*/g, '.*?');\n\n\t\t\tif (namespaces[0] === '-') {\n\t\t\t\tcreateDebug.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n\t\t\t} else {\n\t\t\t\tcreateDebug.names.push(new RegExp('^' + namespaces + '$'));\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t* Disable debug output.\n\t*\n\t* @return {String} namespaces\n\t* @api public\n\t*/\n\tfunction disable() {\n\t\tconst namespaces = [\n\t\t\t...createDebug.names.map(toNamespace),\n\t\t\t...createDebug.skips.map(toNamespace).map(namespace => '-' + namespace)\n\t\t].join(',');\n\t\tcreateDebug.enable('');\n\t\treturn namespaces;\n\t}\n\n\t/**\n\t* Returns true if the given mode name is enabled, false otherwise.\n\t*\n\t* @param {String} name\n\t* @return {Boolean}\n\t* @api public\n\t*/\n\tfunction enabled(name) {\n\t\tif (name[name.length - 1] === '*') {\n\t\t\treturn true;\n\t\t}\n\n\t\tlet i;\n\t\tlet len;\n\n\t\tfor (i = 0, len = createDebug.skips.length; i < len; i++) {\n\t\t\tif (createDebug.skips[i].test(name)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0, len = createDebug.names.length; i < len; i++) {\n\t\t\tif (createDebug.names[i].test(name)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t* Convert regexp to namespace\n\t*\n\t* @param {RegExp} regxep\n\t* @return {String} namespace\n\t* @api private\n\t*/\n\tfunction toNamespace(regexp) {\n\t\treturn regexp.toString()\n\t\t\t.substring(2, regexp.toString().length - 2)\n\t\t\t.replace(/\\.\\*\\?$/, '*');\n\t}\n\n\t/**\n\t* Coerce `val`.\n\t*\n\t* @param {Mixed} val\n\t* @return {Mixed}\n\t* @api private\n\t*/\n\tfunction coerce(val) {\n\t\tif (val instanceof Error) {\n\t\t\treturn val.stack || val.message;\n\t\t}\n\t\treturn val;\n\t}\n\n\t/**\n\t* XXX DO NOT USE. This is a temporary stub function.\n\t* XXX It WILL be removed in the next major release.\n\t*/\n\tfunction destroy() {\n\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t}\n\n\tcreateDebug.enable(createDebug.load());\n\n\treturn createDebug;\n}\n\nmodule.exports = setup;\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Manager = void 0;\nconst eio = require(\"engine.io-client\");\nconst socket_1 = require(\"./socket\");\nconst Emitter = require(\"component-emitter\");\nconst parser = require(\"socket.io-parser\");\nconst on_1 = require(\"./on\");\nconst Backoff = require(\"backo2\");\nconst debug = require(\"debug\")(\"socket.io-client:manager\");\nclass Manager extends Emitter {\n    constructor(uri, opts) {\n        super();\n        this.nsps = {};\n        this.subs = [];\n        if (uri && \"object\" === typeof uri) {\n            opts = uri;\n            uri = undefined;\n        }\n        opts = opts || {};\n        opts.path = opts.path || \"/socket.io\";\n        this.opts = opts;\n        this.reconnection(opts.reconnection !== false);\n        this.reconnectionAttempts(opts.reconnectionAttempts || Infinity);\n        this.reconnectionDelay(opts.reconnectionDelay || 1000);\n        this.reconnectionDelayMax(opts.reconnectionDelayMax || 5000);\n        this.randomizationFactor(opts.randomizationFactor || 0.5);\n        this.backoff = new Backoff({\n            min: this.reconnectionDelay(),\n            max: this.reconnectionDelayMax(),\n            jitter: this.randomizationFactor(),\n        });\n        this.timeout(null == opts.timeout ? 20000 : opts.timeout);\n        this._readyState = \"closed\";\n        this.uri = uri;\n        const _parser = opts.parser || parser;\n        this.encoder = new _parser.Encoder();\n        this.decoder = new _parser.Decoder();\n        this._autoConnect = opts.autoConnect !== false;\n        if (this._autoConnect)\n            this.open();\n    }\n    reconnection(v) {\n        if (!arguments.length)\n            return this._reconnection;\n        this._reconnection = !!v;\n        return this;\n    }\n    reconnectionAttempts(v) {\n        if (v === undefined)\n            return this._reconnectionAttempts;\n        this._reconnectionAttempts = v;\n        return this;\n    }\n    reconnectionDelay(v) {\n        var _a;\n        if (v === undefined)\n            return this._reconnectionDelay;\n        this._reconnectionDelay = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setMin(v);\n        return this;\n    }\n    randomizationFactor(v) {\n        var _a;\n        if (v === undefined)\n            return this._randomizationFactor;\n        this._randomizationFactor = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setJitter(v);\n        return this;\n    }\n    reconnectionDelayMax(v) {\n        var _a;\n        if (v === undefined)\n            return this._reconnectionDelayMax;\n        this._reconnectionDelayMax = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setMax(v);\n        return this;\n    }\n    timeout(v) {\n        if (!arguments.length)\n            return this._timeout;\n        this._timeout = v;\n        return this;\n    }\n    /**\n     * Starts trying to reconnect if reconnection is enabled and we have not\n     * started reconnecting yet\n     *\n     * @private\n     */\n    maybeReconnectOnOpen() {\n        // Only try to reconnect if it's the first time we're connecting\n        if (!this._reconnecting &&\n            this._reconnection &&\n            this.backoff.attempts === 0) {\n            // keeps reconnection from firing twice for the same reconnection loop\n            this.reconnect();\n        }\n    }\n    /**\n     * Sets the current transport `socket`.\n     *\n     * @param {Function} fn - optional, callback\n     * @return self\n     * @public\n     */\n    open(fn) {\n        debug(\"readyState %s\", this._readyState);\n        if (~this._readyState.indexOf(\"open\"))\n            return this;\n        debug(\"opening %s\", this.uri);\n        this.engine = eio(this.uri, this.opts);\n        const socket = this.engine;\n        const self = this;\n        this._readyState = \"opening\";\n        this.skipReconnect = false;\n        // emit `open`\n        const openSubDestroy = on_1.on(socket, \"open\", function () {\n            self.onopen();\n            fn && fn();\n        });\n        // emit `error`\n        const errorSub = on_1.on(socket, \"error\", (err) => {\n            debug(\"error\");\n            self.cleanup();\n            self._readyState = \"closed\";\n            super.emit(\"error\", err);\n            if (fn) {\n                fn(err);\n            }\n            else {\n                // Only do this if there is no fn to handle the error\n                self.maybeReconnectOnOpen();\n            }\n        });\n        if (false !== this._timeout) {\n            const timeout = this._timeout;\n            debug(\"connect attempt will timeout after %d\", timeout);\n            if (timeout === 0) {\n                openSubDestroy(); // prevents a race condition with the 'open' event\n            }\n            // set timer\n            const timer = setTimeout(() => {\n                debug(\"connect attempt timed out after %d\", timeout);\n                openSubDestroy();\n                socket.close();\n                socket.emit(\"error\", new Error(\"timeout\"));\n            }, timeout);\n            this.subs.push(function subDestroy() {\n                clearTimeout(timer);\n            });\n        }\n        this.subs.push(openSubDestroy);\n        this.subs.push(errorSub);\n        return this;\n    }\n    /**\n     * Alias for open()\n     *\n     * @return self\n     * @public\n     */\n    connect(fn) {\n        return this.open(fn);\n    }\n    /**\n     * Called upon transport open.\n     *\n     * @private\n     */\n    onopen() {\n        debug(\"open\");\n        // clear old subs\n        this.cleanup();\n        // mark as open\n        this._readyState = \"open\";\n        super.emit(\"open\");\n        // add new subs\n        const socket = this.engine;\n        this.subs.push(on_1.on(socket, \"ping\", this.onping.bind(this)), on_1.on(socket, \"data\", this.ondata.bind(this)), on_1.on(socket, \"error\", this.onerror.bind(this)), on_1.on(socket, \"close\", this.onclose.bind(this)), on_1.on(this.decoder, \"decoded\", this.ondecoded.bind(this)));\n    }\n    /**\n     * Called upon a ping.\n     *\n     * @private\n     */\n    onping() {\n        super.emit(\"ping\");\n    }\n    /**\n     * Called with data.\n     *\n     * @private\n     */\n    ondata(data) {\n        this.decoder.add(data);\n    }\n    /**\n     * Called when parser fully decodes a packet.\n     *\n     * @private\n     */\n    ondecoded(packet) {\n        super.emit(\"packet\", packet);\n    }\n    /**\n     * Called upon socket error.\n     *\n     * @private\n     */\n    onerror(err) {\n        debug(\"error\", err);\n        super.emit(\"error\", err);\n    }\n    /**\n     * Creates a new socket for the given `nsp`.\n     *\n     * @return {Socket}\n     * @public\n     */\n    socket(nsp, opts) {\n        let socket = this.nsps[nsp];\n        if (!socket) {\n            socket = new socket_1.Socket(this, nsp, opts);\n            this.nsps[nsp] = socket;\n        }\n        return socket;\n    }\n    /**\n     * Called upon a socket close.\n     *\n     * @param socket\n     * @private\n     */\n    _destroy(socket) {\n        const nsps = Object.keys(this.nsps);\n        for (const nsp of nsps) {\n            const socket = this.nsps[nsp];\n            if (socket.active) {\n                debug(\"socket %s is still active, skipping close\", nsp);\n                return;\n            }\n        }\n        this._close();\n    }\n    /**\n     * Writes a packet.\n     *\n     * @param packet\n     * @private\n     */\n    _packet(packet) {\n        debug(\"writing packet %j\", packet);\n        const encodedPackets = this.encoder.encode(packet);\n        for (let i = 0; i < encodedPackets.length; i++) {\n            this.engine.write(encodedPackets[i], packet.options);\n        }\n    }\n    /**\n     * Clean up transport subscriptions and packet buffer.\n     *\n     * @private\n     */\n    cleanup() {\n        debug(\"cleanup\");\n        this.subs.forEach((subDestroy) => subDestroy());\n        this.subs.length = 0;\n        this.decoder.destroy();\n    }\n    /**\n     * Close the current socket.\n     *\n     * @private\n     */\n    _close() {\n        debug(\"disconnect\");\n        this.skipReconnect = true;\n        this._reconnecting = false;\n        if (\"opening\" === this._readyState) {\n            // `onclose` will not fire because\n            // an open event never happened\n            this.cleanup();\n        }\n        this.backoff.reset();\n        this._readyState = \"closed\";\n        if (this.engine)\n            this.engine.close();\n    }\n    /**\n     * Alias for close()\n     *\n     * @private\n     */\n    disconnect() {\n        return this._close();\n    }\n    /**\n     * Called upon engine close.\n     *\n     * @private\n     */\n    onclose(reason) {\n        debug(\"onclose\");\n        this.cleanup();\n        this.backoff.reset();\n        this._readyState = \"closed\";\n        super.emit(\"close\", reason);\n        if (this._reconnection && !this.skipReconnect) {\n            this.reconnect();\n        }\n    }\n    /**\n     * Attempt a reconnection.\n     *\n     * @private\n     */\n    reconnect() {\n        if (this._reconnecting || this.skipReconnect)\n            return this;\n        const self = this;\n        if (this.backoff.attempts >= this._reconnectionAttempts) {\n            debug(\"reconnect failed\");\n            this.backoff.reset();\n            super.emit(\"reconnect_failed\");\n            this._reconnecting = false;\n        }\n        else {\n            const delay = this.backoff.duration();\n            debug(\"will wait %dms before reconnect attempt\", delay);\n            this._reconnecting = true;\n            const timer = setTimeout(() => {\n                if (self.skipReconnect)\n                    return;\n                debug(\"attempting reconnect\");\n                super.emit(\"reconnect_attempt\", self.backoff.attempts);\n                // check again for the case socket closed in above events\n                if (self.skipReconnect)\n                    return;\n                self.open((err) => {\n                    if (err) {\n                        debug(\"reconnect attempt error\");\n                        self._reconnecting = false;\n                        self.reconnect();\n                        super.emit(\"reconnect_error\", err);\n                    }\n                    else {\n                        debug(\"reconnect success\");\n                        self.onreconnect();\n                    }\n                });\n            }, delay);\n            this.subs.push(function subDestroy() {\n                clearTimeout(timer);\n            });\n        }\n    }\n    /**\n     * Called upon successful reconnect.\n     *\n     * @private\n     */\n    onreconnect() {\n        const attempt = this.backoff.attempts;\n        this._reconnecting = false;\n        this.backoff.reset();\n        super.emit(\"reconnect\", attempt);\n    }\n}\nexports.Manager = Manager;\n","const Socket = require(\"./socket\");\n\nmodule.exports = (uri, opts) => new Socket(uri, opts);\n\n/**\n * Expose deps for legacy compatibility\n * and standalone browser access.\n */\n\nmodule.exports.Socket = Socket;\nmodule.exports.protocol = Socket.protocol; // this is an int\nmodule.exports.Transport = require(\"./transport\");\nmodule.exports.transports = require(\"./transports/index\");\nmodule.exports.parser = require(\"engine.io-parser\");\n","const transports = require(\"./transports/index\");\nconst Emitter = require(\"component-emitter\");\nconst debug = require(\"debug\")(\"engine.io-client:socket\");\nconst parser = require(\"engine.io-parser\");\nconst parseuri = require(\"parseuri\");\nconst parseqs = require(\"parseqs\");\n\nclass Socket extends Emitter {\n  /**\n   * Socket constructor.\n   *\n   * @param {String|Object} uri or options\n   * @param {Object} options\n   * @api public\n   */\n  constructor(uri, opts = {}) {\n    super();\n\n    if (uri && \"object\" === typeof uri) {\n      opts = uri;\n      uri = null;\n    }\n\n    if (uri) {\n      uri = parseuri(uri);\n      opts.hostname = uri.host;\n      opts.secure = uri.protocol === \"https\" || uri.protocol === \"wss\";\n      opts.port = uri.port;\n      if (uri.query) opts.query = uri.query;\n    } else if (opts.host) {\n      opts.hostname = parseuri(opts.host).host;\n    }\n\n    this.secure =\n      null != opts.secure\n        ? opts.secure\n        : typeof location !== \"undefined\" && \"https:\" === location.protocol;\n\n    if (opts.hostname && !opts.port) {\n      // if no port is specified manually, use the protocol default\n      opts.port = this.secure ? \"443\" : \"80\";\n    }\n\n    this.hostname =\n      opts.hostname ||\n      (typeof location !== \"undefined\" ? location.hostname : \"localhost\");\n    this.port =\n      opts.port ||\n      (typeof location !== \"undefined\" && location.port\n        ? location.port\n        : this.secure\n        ? 443\n        : 80);\n\n    this.transports = opts.transports || [\"polling\", \"websocket\"];\n    this.readyState = \"\";\n    this.writeBuffer = [];\n    this.prevBufferLen = 0;\n\n    this.opts = Object.assign(\n      {\n        path: \"/engine.io\",\n        agent: false,\n        withCredentials: false,\n        upgrade: true,\n        jsonp: true,\n        timestampParam: \"t\",\n        rememberUpgrade: false,\n        rejectUnauthorized: true,\n        perMessageDeflate: {\n          threshold: 1024\n        },\n        transportOptions: {}\n      },\n      opts\n    );\n\n    this.opts.path = this.opts.path.replace(/\\/$/, \"\") + \"/\";\n\n    if (typeof this.opts.query === \"string\") {\n      this.opts.query = parseqs.decode(this.opts.query);\n    }\n\n    // set on handshake\n    this.id = null;\n    this.upgrades = null;\n    this.pingInterval = null;\n    this.pingTimeout = null;\n\n    // set on heartbeat\n    this.pingTimeoutTimer = null;\n\n    this.open();\n  }\n\n  /**\n   * Creates transport of the given type.\n   *\n   * @param {String} transport name\n   * @return {Transport}\n   * @api private\n   */\n  createTransport(name) {\n    debug('creating transport \"%s\"', name);\n    const query = clone(this.opts.query);\n\n    // append engine.io protocol identifier\n    query.EIO = parser.protocol;\n\n    // transport name\n    query.transport = name;\n\n    // session id if we already have one\n    if (this.id) query.sid = this.id;\n\n    const opts = Object.assign(\n      {},\n      this.opts.transportOptions[name],\n      this.opts,\n      {\n        query,\n        socket: this,\n        hostname: this.hostname,\n        secure: this.secure,\n        port: this.port\n      }\n    );\n\n    debug(\"options: %j\", opts);\n\n    return new transports[name](opts);\n  }\n\n  /**\n   * Initializes transport to use and starts probe.\n   *\n   * @api private\n   */\n  open() {\n    let transport;\n    if (\n      this.opts.rememberUpgrade &&\n      Socket.priorWebsocketSuccess &&\n      this.transports.indexOf(\"websocket\") !== -1\n    ) {\n      transport = \"websocket\";\n    } else if (0 === this.transports.length) {\n      // Emit error on next tick so it can be listened to\n      const self = this;\n      setTimeout(function() {\n        self.emit(\"error\", \"No transports available\");\n      }, 0);\n      return;\n    } else {\n      transport = this.transports[0];\n    }\n    this.readyState = \"opening\";\n\n    // Retry with the next transport if the transport is disabled (jsonp: false)\n    try {\n      transport = this.createTransport(transport);\n    } catch (e) {\n      debug(\"error while creating transport: %s\", e);\n      this.transports.shift();\n      this.open();\n      return;\n    }\n\n    transport.open();\n    this.setTransport(transport);\n  }\n\n  /**\n   * Sets the current transport. Disables the existing one (if any).\n   *\n   * @api private\n   */\n  setTransport(transport) {\n    debug(\"setting transport %s\", transport.name);\n    const self = this;\n\n    if (this.transport) {\n      debug(\"clearing existing transport %s\", this.transport.name);\n      this.transport.removeAllListeners();\n    }\n\n    // set up transport\n    this.transport = transport;\n\n    // set up transport listeners\n    transport\n      .on(\"drain\", function() {\n        self.onDrain();\n      })\n      .on(\"packet\", function(packet) {\n        self.onPacket(packet);\n      })\n      .on(\"error\", function(e) {\n        self.onError(e);\n      })\n      .on(\"close\", function() {\n        self.onClose(\"transport close\");\n      });\n  }\n\n  /**\n   * Probes a transport.\n   *\n   * @param {String} transport name\n   * @api private\n   */\n  probe(name) {\n    debug('probing transport \"%s\"', name);\n    let transport = this.createTransport(name, { probe: 1 });\n    let failed = false;\n    const self = this;\n\n    Socket.priorWebsocketSuccess = false;\n\n    function onTransportOpen() {\n      if (self.onlyBinaryUpgrades) {\n        const upgradeLosesBinary =\n          !this.supportsBinary && self.transport.supportsBinary;\n        failed = failed || upgradeLosesBinary;\n      }\n      if (failed) return;\n\n      debug('probe transport \"%s\" opened', name);\n      transport.send([{ type: \"ping\", data: \"probe\" }]);\n      transport.once(\"packet\", function(msg) {\n        if (failed) return;\n        if (\"pong\" === msg.type && \"probe\" === msg.data) {\n          debug('probe transport \"%s\" pong', name);\n          self.upgrading = true;\n          self.emit(\"upgrading\", transport);\n          if (!transport) return;\n          Socket.priorWebsocketSuccess = \"websocket\" === transport.name;\n\n          debug('pausing current transport \"%s\"', self.transport.name);\n          self.transport.pause(function() {\n            if (failed) return;\n            if (\"closed\" === self.readyState) return;\n            debug(\"changing transport and sending upgrade packet\");\n\n            cleanup();\n\n            self.setTransport(transport);\n            transport.send([{ type: \"upgrade\" }]);\n            self.emit(\"upgrade\", transport);\n            transport = null;\n            self.upgrading = false;\n            self.flush();\n          });\n        } else {\n          debug('probe transport \"%s\" failed', name);\n          const err = new Error(\"probe error\");\n          err.transport = transport.name;\n          self.emit(\"upgradeError\", err);\n        }\n      });\n    }\n\n    function freezeTransport() {\n      if (failed) return;\n\n      // Any callback called by transport should be ignored since now\n      failed = true;\n\n      cleanup();\n\n      transport.close();\n      transport = null;\n    }\n\n    // Handle any error that happens while probing\n    function onerror(err) {\n      const error = new Error(\"probe error: \" + err);\n      error.transport = transport.name;\n\n      freezeTransport();\n\n      debug('probe transport \"%s\" failed because of error: %s', name, err);\n\n      self.emit(\"upgradeError\", error);\n    }\n\n    function onTransportClose() {\n      onerror(\"transport closed\");\n    }\n\n    // When the socket is closed while we're probing\n    function onclose() {\n      onerror(\"socket closed\");\n    }\n\n    // When the socket is upgraded while we're probing\n    function onupgrade(to) {\n      if (transport && to.name !== transport.name) {\n        debug('\"%s\" works - aborting \"%s\"', to.name, transport.name);\n        freezeTransport();\n      }\n    }\n\n    // Remove all listeners on the transport and on self\n    function cleanup() {\n      transport.removeListener(\"open\", onTransportOpen);\n      transport.removeListener(\"error\", onerror);\n      transport.removeListener(\"close\", onTransportClose);\n      self.removeListener(\"close\", onclose);\n      self.removeListener(\"upgrading\", onupgrade);\n    }\n\n    transport.once(\"open\", onTransportOpen);\n    transport.once(\"error\", onerror);\n    transport.once(\"close\", onTransportClose);\n\n    this.once(\"close\", onclose);\n    this.once(\"upgrading\", onupgrade);\n\n    transport.open();\n  }\n\n  /**\n   * Called when connection is deemed open.\n   *\n   * @api public\n   */\n  onOpen() {\n    debug(\"socket open\");\n    this.readyState = \"open\";\n    Socket.priorWebsocketSuccess = \"websocket\" === this.transport.name;\n    this.emit(\"open\");\n    this.flush();\n\n    // we check for `readyState` in case an `open`\n    // listener already closed the socket\n    if (\n      \"open\" === this.readyState &&\n      this.opts.upgrade &&\n      this.transport.pause\n    ) {\n      debug(\"starting upgrade probes\");\n      let i = 0;\n      const l = this.upgrades.length;\n      for (; i < l; i++) {\n        this.probe(this.upgrades[i]);\n      }\n    }\n  }\n\n  /**\n   * Handles a packet.\n   *\n   * @api private\n   */\n  onPacket(packet) {\n    if (\n      \"opening\" === this.readyState ||\n      \"open\" === this.readyState ||\n      \"closing\" === this.readyState\n    ) {\n      debug('socket receive: type \"%s\", data \"%s\"', packet.type, packet.data);\n\n      this.emit(\"packet\", packet);\n\n      // Socket is live - any packet counts\n      this.emit(\"heartbeat\");\n\n      switch (packet.type) {\n        case \"open\":\n          this.onHandshake(JSON.parse(packet.data));\n          break;\n\n        case \"ping\":\n          this.resetPingTimeout();\n          this.sendPacket(\"pong\");\n          this.emit(\"pong\");\n          break;\n\n        case \"error\":\n          const err = new Error(\"server error\");\n          err.code = packet.data;\n          this.onError(err);\n          break;\n\n        case \"message\":\n          this.emit(\"data\", packet.data);\n          this.emit(\"message\", packet.data);\n          break;\n      }\n    } else {\n      debug('packet received with socket readyState \"%s\"', this.readyState);\n    }\n  }\n\n  /**\n   * Called upon handshake completion.\n   *\n   * @param {Object} handshake obj\n   * @api private\n   */\n  onHandshake(data) {\n    this.emit(\"handshake\", data);\n    this.id = data.sid;\n    this.transport.query.sid = data.sid;\n    this.upgrades = this.filterUpgrades(data.upgrades);\n    this.pingInterval = data.pingInterval;\n    this.pingTimeout = data.pingTimeout;\n    this.onOpen();\n    // In case open handler closes socket\n    if (\"closed\" === this.readyState) return;\n    this.resetPingTimeout();\n  }\n\n  /**\n   * Sets and resets ping timeout timer based on server pings.\n   *\n   * @api private\n   */\n  resetPingTimeout() {\n    clearTimeout(this.pingTimeoutTimer);\n    this.pingTimeoutTimer = setTimeout(() => {\n      this.onClose(\"ping timeout\");\n    }, this.pingInterval + this.pingTimeout);\n  }\n\n  /**\n   * Called on `drain` event\n   *\n   * @api private\n   */\n  onDrain() {\n    this.writeBuffer.splice(0, this.prevBufferLen);\n\n    // setting prevBufferLen = 0 is very important\n    // for example, when upgrading, upgrade packet is sent over,\n    // and a nonzero prevBufferLen could cause problems on `drain`\n    this.prevBufferLen = 0;\n\n    if (0 === this.writeBuffer.length) {\n      this.emit(\"drain\");\n    } else {\n      this.flush();\n    }\n  }\n\n  /**\n   * Flush write buffers.\n   *\n   * @api private\n   */\n  flush() {\n    if (\n      \"closed\" !== this.readyState &&\n      this.transport.writable &&\n      !this.upgrading &&\n      this.writeBuffer.length\n    ) {\n      debug(\"flushing %d packets in socket\", this.writeBuffer.length);\n      this.transport.send(this.writeBuffer);\n      // keep track of current length of writeBuffer\n      // splice writeBuffer and callbackBuffer on `drain`\n      this.prevBufferLen = this.writeBuffer.length;\n      this.emit(\"flush\");\n    }\n  }\n\n  /**\n   * Sends a message.\n   *\n   * @param {String} message.\n   * @param {Function} callback function.\n   * @param {Object} options.\n   * @return {Socket} for chaining.\n   * @api public\n   */\n  write(msg, options, fn) {\n    this.sendPacket(\"message\", msg, options, fn);\n    return this;\n  }\n\n  send(msg, options, fn) {\n    this.sendPacket(\"message\", msg, options, fn);\n    return this;\n  }\n\n  /**\n   * Sends a packet.\n   *\n   * @param {String} packet type.\n   * @param {String} data.\n   * @param {Object} options.\n   * @param {Function} callback function.\n   * @api private\n   */\n  sendPacket(type, data, options, fn) {\n    if (\"function\" === typeof data) {\n      fn = data;\n      data = undefined;\n    }\n\n    if (\"function\" === typeof options) {\n      fn = options;\n      options = null;\n    }\n\n    if (\"closing\" === this.readyState || \"closed\" === this.readyState) {\n      return;\n    }\n\n    options = options || {};\n    options.compress = false !== options.compress;\n\n    const packet = {\n      type: type,\n      data: data,\n      options: options\n    };\n    this.emit(\"packetCreate\", packet);\n    this.writeBuffer.push(packet);\n    if (fn) this.once(\"flush\", fn);\n    this.flush();\n  }\n\n  /**\n   * Closes the connection.\n   *\n   * @api private\n   */\n  close() {\n    const self = this;\n\n    if (\"opening\" === this.readyState || \"open\" === this.readyState) {\n      this.readyState = \"closing\";\n\n      if (this.writeBuffer.length) {\n        this.once(\"drain\", function() {\n          if (this.upgrading) {\n            waitForUpgrade();\n          } else {\n            close();\n          }\n        });\n      } else if (this.upgrading) {\n        waitForUpgrade();\n      } else {\n        close();\n      }\n    }\n\n    function close() {\n      self.onClose(\"forced close\");\n      debug(\"socket closing - telling transport to close\");\n      self.transport.close();\n    }\n\n    function cleanupAndClose() {\n      self.removeListener(\"upgrade\", cleanupAndClose);\n      self.removeListener(\"upgradeError\", cleanupAndClose);\n      close();\n    }\n\n    function waitForUpgrade() {\n      // wait for upgrade to finish since we can't send packets while pausing a transport\n      self.once(\"upgrade\", cleanupAndClose);\n      self.once(\"upgradeError\", cleanupAndClose);\n    }\n\n    return this;\n  }\n\n  /**\n   * Called upon transport error\n   *\n   * @api private\n   */\n  onError(err) {\n    debug(\"socket error %j\", err);\n    Socket.priorWebsocketSuccess = false;\n    this.emit(\"error\", err);\n    this.onClose(\"transport error\", err);\n  }\n\n  /**\n   * Called upon transport close.\n   *\n   * @api private\n   */\n  onClose(reason, desc) {\n    if (\n      \"opening\" === this.readyState ||\n      \"open\" === this.readyState ||\n      \"closing\" === this.readyState\n    ) {\n      debug('socket close with reason: \"%s\"', reason);\n      const self = this;\n\n      // clear timers\n      clearTimeout(this.pingIntervalTimer);\n      clearTimeout(this.pingTimeoutTimer);\n\n      // stop event from firing again for transport\n      this.transport.removeAllListeners(\"close\");\n\n      // ensure transport won't stay open\n      this.transport.close();\n\n      // ignore further transport communication\n      this.transport.removeAllListeners();\n\n      // set ready state\n      this.readyState = \"closed\";\n\n      // clear session id\n      this.id = null;\n\n      // emit close event\n      this.emit(\"close\", reason, desc);\n\n      // clean buffers after, so users can still\n      // grab the buffers on `close` event\n      self.writeBuffer = [];\n      self.prevBufferLen = 0;\n    }\n  }\n\n  /**\n   * Filters upgrades, returning only those matching client transports.\n   *\n   * @param {Array} server upgrades\n   * @api private\n   *\n   */\n  filterUpgrades(upgrades) {\n    const filteredUpgrades = [];\n    let i = 0;\n    const j = upgrades.length;\n    for (; i < j; i++) {\n      if (~this.transports.indexOf(upgrades[i]))\n        filteredUpgrades.push(upgrades[i]);\n    }\n    return filteredUpgrades;\n  }\n}\n\nSocket.priorWebsocketSuccess = false;\n\n/**\n * Protocol version.\n *\n * @api public\n */\n\nSocket.protocol = parser.protocol; // this is an int\n\nfunction clone(obj) {\n  const o = {};\n  for (let i in obj) {\n    if (obj.hasOwnProperty(i)) {\n      o[i] = obj[i];\n    }\n  }\n  return o;\n}\n\nmodule.exports = Socket;\n","const XMLHttpRequest = require(\"xmlhttprequest-ssl\");\nconst XHR = require(\"./polling-xhr\");\nconst JSONP = require(\"./polling-jsonp\");\nconst websocket = require(\"./websocket\");\n\nexports.polling = polling;\nexports.websocket = websocket;\n\n/**\n * Polling transport polymorphic constructor.\n * Decides on xhr vs jsonp based on feature detection.\n *\n * @api private\n */\n\nfunction polling(opts) {\n  let xhr;\n  let xd = false;\n  let xs = false;\n  const jsonp = false !== opts.jsonp;\n\n  if (typeof location !== \"undefined\") {\n    const isSSL = \"https:\" === location.protocol;\n    let port = location.port;\n\n    // some user agents have empty `location.port`\n    if (!port) {\n      port = isSSL ? 443 : 80;\n    }\n\n    xd = opts.hostname !== location.hostname || port !== opts.port;\n    xs = opts.secure !== isSSL;\n  }\n\n  opts.xdomain = xd;\n  opts.xscheme = xs;\n  xhr = new XMLHttpRequest(opts);\n\n  if (\"open\" in xhr && !opts.forceJSONP) {\n    return new XHR(opts);\n  } else {\n    if (!jsonp) throw new Error(\"JSONP disabled\");\n    return new JSONP(opts);\n  }\n}\n","// browser shim for xmlhttprequest module\n\nconst hasCORS = require(\"has-cors\");\nconst globalThis = require(\"./globalThis\");\n\nmodule.exports = function(opts) {\n  const xdomain = opts.xdomain;\n\n  // scheme must be same when usign XDomainRequest\n  // http://blogs.msdn.com/b/ieinternals/archive/2010/05/13/xdomainrequest-restrictions-limitations-and-workarounds.aspx\n  const xscheme = opts.xscheme;\n\n  // XDomainRequest has a flow of not sending cookie, therefore it should be disabled as a default.\n  // https://github.com/Automattic/engine.io-client/pull/217\n  const enablesXDR = opts.enablesXDR;\n\n  // XMLHttpRequest can be disabled on IE\n  try {\n    if (\"undefined\" !== typeof XMLHttpRequest && (!xdomain || hasCORS)) {\n      return new XMLHttpRequest();\n    }\n  } catch (e) {}\n\n  // Use XDomainRequest for IE8 if enablesXDR is true\n  // because loading bar keeps flashing when using jsonp-polling\n  // https://github.com/yujiosaka/socke.io-ie8-loading-example\n  try {\n    if (\"undefined\" !== typeof XDomainRequest && !xscheme && enablesXDR) {\n      return new XDomainRequest();\n    }\n  } catch (e) {}\n\n  if (!xdomain) {\n    try {\n      return new globalThis[[\"Active\"].concat(\"Object\").join(\"X\")](\n        \"Microsoft.XMLHTTP\"\n      );\n    } catch (e) {}\n  }\n};\n","\n/**\n * Module exports.\n *\n * Logic borrowed from Modernizr:\n *\n *   - https://github.com/Modernizr/Modernizr/blob/master/feature-detects/cors.js\n */\n\ntry {\n  module.exports = typeof XMLHttpRequest !== 'undefined' &&\n    'withCredentials' in new XMLHttpRequest();\n} catch (err) {\n  // if XMLHttp support is disabled in IE then it will throw\n  // when trying to create\n  module.exports = false;\n}\n","module.exports = (() => {\n  if (typeof self !== \"undefined\") {\n    return self;\n  } else if (typeof window !== \"undefined\") {\n    return window;\n  } else {\n    return Function(\"return this\")();\n  }\n})();\n","/* global attachEvent */\n\nconst XMLHttpRequest = require(\"xmlhttprequest-ssl\");\nconst Polling = require(\"./polling\");\nconst Emitter = require(\"component-emitter\");\nconst { pick } = require(\"../util\");\nconst globalThis = require(\"../globalThis\");\n\nconst debug = require(\"debug\")(\"engine.io-client:polling-xhr\");\n\n/**\n * Empty function\n */\n\nfunction empty() {}\n\nconst hasXHR2 = (function() {\n  const xhr = new XMLHttpRequest({ xdomain: false });\n  return null != xhr.responseType;\n})();\n\nclass XHR extends Polling {\n  /**\n   * XHR Polling constructor.\n   *\n   * @param {Object} opts\n   * @api public\n   */\n  constructor(opts) {\n    super(opts);\n\n    if (typeof location !== \"undefined\") {\n      const isSSL = \"https:\" === location.protocol;\n      let port = location.port;\n\n      // some user agents have empty `location.port`\n      if (!port) {\n        port = isSSL ? 443 : 80;\n      }\n\n      this.xd =\n        (typeof location !== \"undefined\" &&\n          opts.hostname !== location.hostname) ||\n        port !== opts.port;\n      this.xs = opts.secure !== isSSL;\n    }\n    /**\n     * XHR supports binary\n     */\n    const forceBase64 = opts && opts.forceBase64;\n    this.supportsBinary = hasXHR2 && !forceBase64;\n  }\n\n  /**\n   * Creates a request.\n   *\n   * @param {String} method\n   * @api private\n   */\n  request(opts = {}) {\n    Object.assign(opts, { xd: this.xd, xs: this.xs }, this.opts);\n    return new Request(this.uri(), opts);\n  }\n\n  /**\n   * Sends data.\n   *\n   * @param {String} data to send.\n   * @param {Function} called upon flush.\n   * @api private\n   */\n  doWrite(data, fn) {\n    const req = this.request({\n      method: \"POST\",\n      data: data\n    });\n    const self = this;\n    req.on(\"success\", fn);\n    req.on(\"error\", function(err) {\n      self.onError(\"xhr post error\", err);\n    });\n  }\n\n  /**\n   * Starts a poll cycle.\n   *\n   * @api private\n   */\n  doPoll() {\n    debug(\"xhr poll\");\n    const req = this.request();\n    const self = this;\n    req.on(\"data\", function(data) {\n      self.onData(data);\n    });\n    req.on(\"error\", function(err) {\n      self.onError(\"xhr poll error\", err);\n    });\n    this.pollXhr = req;\n  }\n}\n\nclass Request extends Emitter {\n  /**\n   * Request constructor\n   *\n   * @param {Object} options\n   * @api public\n   */\n  constructor(uri, opts) {\n    super();\n    this.opts = opts;\n\n    this.method = opts.method || \"GET\";\n    this.uri = uri;\n    this.async = false !== opts.async;\n    this.data = undefined !== opts.data ? opts.data : null;\n\n    this.create();\n  }\n\n  /**\n   * Creates the XHR object and sends the request.\n   *\n   * @api private\n   */\n  create() {\n    const opts = pick(\n      this.opts,\n      \"agent\",\n      \"enablesXDR\",\n      \"pfx\",\n      \"key\",\n      \"passphrase\",\n      \"cert\",\n      \"ca\",\n      \"ciphers\",\n      \"rejectUnauthorized\"\n    );\n    opts.xdomain = !!this.opts.xd;\n    opts.xscheme = !!this.opts.xs;\n\n    const xhr = (this.xhr = new XMLHttpRequest(opts));\n    const self = this;\n\n    try {\n      debug(\"xhr open %s: %s\", this.method, this.uri);\n      xhr.open(this.method, this.uri, this.async);\n      try {\n        if (this.opts.extraHeaders) {\n          xhr.setDisableHeaderCheck && xhr.setDisableHeaderCheck(true);\n          for (let i in this.opts.extraHeaders) {\n            if (this.opts.extraHeaders.hasOwnProperty(i)) {\n              xhr.setRequestHeader(i, this.opts.extraHeaders[i]);\n            }\n          }\n        }\n      } catch (e) {}\n\n      if (\"POST\" === this.method) {\n        try {\n          xhr.setRequestHeader(\"Content-type\", \"text/plain;charset=UTF-8\");\n        } catch (e) {}\n      }\n\n      try {\n        xhr.setRequestHeader(\"Accept\", \"*/*\");\n      } catch (e) {}\n\n      // ie6 check\n      if (\"withCredentials\" in xhr) {\n        xhr.withCredentials = this.opts.withCredentials;\n      }\n\n      if (this.opts.requestTimeout) {\n        xhr.timeout = this.opts.requestTimeout;\n      }\n\n      if (this.hasXDR()) {\n        xhr.onload = function() {\n          self.onLoad();\n        };\n        xhr.onerror = function() {\n          self.onError(xhr.responseText);\n        };\n      } else {\n        xhr.onreadystatechange = function() {\n          if (4 !== xhr.readyState) return;\n          if (200 === xhr.status || 1223 === xhr.status) {\n            self.onLoad();\n          } else {\n            // make sure the `error` event handler that's user-set\n            // does not throw in the same tick and gets caught here\n            setTimeout(function() {\n              self.onError(typeof xhr.status === \"number\" ? xhr.status : 0);\n            }, 0);\n          }\n        };\n      }\n\n      debug(\"xhr data %s\", this.data);\n      xhr.send(this.data);\n    } catch (e) {\n      // Need to defer since .create() is called directly from the constructor\n      // and thus the 'error' event can only be only bound *after* this exception\n      // occurs.  Therefore, also, we cannot throw here at all.\n      setTimeout(function() {\n        self.onError(e);\n      }, 0);\n      return;\n    }\n\n    if (typeof document !== \"undefined\") {\n      this.index = Request.requestsCount++;\n      Request.requests[this.index] = this;\n    }\n  }\n\n  /**\n   * Called upon successful response.\n   *\n   * @api private\n   */\n  onSuccess() {\n    this.emit(\"success\");\n    this.cleanup();\n  }\n\n  /**\n   * Called if we have data.\n   *\n   * @api private\n   */\n  onData(data) {\n    this.emit(\"data\", data);\n    this.onSuccess();\n  }\n\n  /**\n   * Called upon error.\n   *\n   * @api private\n   */\n  onError(err) {\n    this.emit(\"error\", err);\n    this.cleanup(true);\n  }\n\n  /**\n   * Cleans up house.\n   *\n   * @api private\n   */\n  cleanup(fromError) {\n    if (\"undefined\" === typeof this.xhr || null === this.xhr) {\n      return;\n    }\n    // xmlhttprequest\n    if (this.hasXDR()) {\n      this.xhr.onload = this.xhr.onerror = empty;\n    } else {\n      this.xhr.onreadystatechange = empty;\n    }\n\n    if (fromError) {\n      try {\n        this.xhr.abort();\n      } catch (e) {}\n    }\n\n    if (typeof document !== \"undefined\") {\n      delete Request.requests[this.index];\n    }\n\n    this.xhr = null;\n  }\n\n  /**\n   * Called upon load.\n   *\n   * @api private\n   */\n  onLoad() {\n    const data = this.xhr.responseText;\n    if (data !== null) {\n      this.onData(data);\n    }\n  }\n\n  /**\n   * Check if it has XDomainRequest.\n   *\n   * @api private\n   */\n  hasXDR() {\n    return typeof XDomainRequest !== \"undefined\" && !this.xs && this.enablesXDR;\n  }\n\n  /**\n   * Aborts the request.\n   *\n   * @api public\n   */\n  abort() {\n    this.cleanup();\n  }\n}\n\n/**\n * Aborts pending requests when unloading the window. This is needed to prevent\n * memory leaks (e.g. when using IE) and to ensure that no spurious error is\n * emitted.\n */\n\nRequest.requestsCount = 0;\nRequest.requests = {};\n\nif (typeof document !== \"undefined\") {\n  if (typeof attachEvent === \"function\") {\n    attachEvent(\"onunload\", unloadHandler);\n  } else if (typeof addEventListener === \"function\") {\n    const terminationEvent = \"onpagehide\" in globalThis ? \"pagehide\" : \"unload\";\n    addEventListener(terminationEvent, unloadHandler, false);\n  }\n}\n\nfunction unloadHandler() {\n  for (let i in Request.requests) {\n    if (Request.requests.hasOwnProperty(i)) {\n      Request.requests[i].abort();\n    }\n  }\n}\n\nmodule.exports = XHR;\nmodule.exports.Request = Request;\n","const Transport = require(\"../transport\");\nconst parseqs = require(\"parseqs\");\nconst parser = require(\"engine.io-parser\");\nconst yeast = require(\"yeast\");\n\nconst debug = require(\"debug\")(\"engine.io-client:polling\");\n\nclass Polling extends Transport {\n  /**\n   * Transport name.\n   */\n  get name() {\n    return \"polling\";\n  }\n\n  /**\n   * Opens the socket (triggers polling). We write a PING message to determine\n   * when the transport is open.\n   *\n   * @api private\n   */\n  doOpen() {\n    this.poll();\n  }\n\n  /**\n   * Pauses polling.\n   *\n   * @param {Function} callback upon buffers are flushed and transport is paused\n   * @api private\n   */\n  pause(onPause) {\n    const self = this;\n\n    this.readyState = \"pausing\";\n\n    function pause() {\n      debug(\"paused\");\n      self.readyState = \"paused\";\n      onPause();\n    }\n\n    if (this.polling || !this.writable) {\n      let total = 0;\n\n      if (this.polling) {\n        debug(\"we are currently polling - waiting to pause\");\n        total++;\n        this.once(\"pollComplete\", function() {\n          debug(\"pre-pause polling complete\");\n          --total || pause();\n        });\n      }\n\n      if (!this.writable) {\n        debug(\"we are currently writing - waiting to pause\");\n        total++;\n        this.once(\"drain\", function() {\n          debug(\"pre-pause writing complete\");\n          --total || pause();\n        });\n      }\n    } else {\n      pause();\n    }\n  }\n\n  /**\n   * Starts polling cycle.\n   *\n   * @api public\n   */\n  poll() {\n    debug(\"polling\");\n    this.polling = true;\n    this.doPoll();\n    this.emit(\"poll\");\n  }\n\n  /**\n   * Overloads onData to detect payloads.\n   *\n   * @api private\n   */\n  onData(data) {\n    const self = this;\n    debug(\"polling got data %s\", data);\n    const callback = function(packet, index, total) {\n      // if its the first message we consider the transport open\n      if (\"opening\" === self.readyState && packet.type === \"open\") {\n        self.onOpen();\n      }\n\n      // if its a close packet, we close the ongoing requests\n      if (\"close\" === packet.type) {\n        self.onClose();\n        return false;\n      }\n\n      // otherwise bypass onData and handle the message\n      self.onPacket(packet);\n    };\n\n    // decode payload\n    parser.decodePayload(data, this.socket.binaryType).forEach(callback);\n\n    // if an event did not trigger closing\n    if (\"closed\" !== this.readyState) {\n      // if we got data we're not polling\n      this.polling = false;\n      this.emit(\"pollComplete\");\n\n      if (\"open\" === this.readyState) {\n        this.poll();\n      } else {\n        debug('ignoring poll - transport state \"%s\"', this.readyState);\n      }\n    }\n  }\n\n  /**\n   * For polling, send a close packet.\n   *\n   * @api private\n   */\n  doClose() {\n    const self = this;\n\n    function close() {\n      debug(\"writing close packet\");\n      self.write([{ type: \"close\" }]);\n    }\n\n    if (\"open\" === this.readyState) {\n      debug(\"transport open - closing\");\n      close();\n    } else {\n      // in case we're trying to close while\n      // handshaking is in progress (GH-164)\n      debug(\"transport not open - deferring close\");\n      this.once(\"open\", close);\n    }\n  }\n\n  /**\n   * Writes a packets payload.\n   *\n   * @param {Array} data packets\n   * @param {Function} drain callback\n   * @api private\n   */\n  write(packets) {\n    this.writable = false;\n\n    parser.encodePayload(packets, data => {\n      this.doWrite(data, () => {\n        this.writable = true;\n        this.emit(\"drain\");\n      });\n    });\n  }\n\n  /**\n   * Generates uri for connection.\n   *\n   * @api private\n   */\n  uri() {\n    let query = this.query || {};\n    const schema = this.opts.secure ? \"https\" : \"http\";\n    let port = \"\";\n\n    // cache busting is forced\n    if (false !== this.opts.timestampRequests) {\n      query[this.opts.timestampParam] = yeast();\n    }\n\n    if (!this.supportsBinary && !query.sid) {\n      query.b64 = 1;\n    }\n\n    query = parseqs.encode(query);\n\n    // avoid port if default for schema\n    if (\n      this.opts.port &&\n      ((\"https\" === schema && Number(this.opts.port) !== 443) ||\n        (\"http\" === schema && Number(this.opts.port) !== 80))\n    ) {\n      port = \":\" + this.opts.port;\n    }\n\n    // prepend ? to query\n    if (query.length) {\n      query = \"?\" + query;\n    }\n\n    const ipv6 = this.opts.hostname.indexOf(\":\") !== -1;\n    return (\n      schema +\n      \"://\" +\n      (ipv6 ? \"[\" + this.opts.hostname + \"]\" : this.opts.hostname) +\n      port +\n      this.opts.path +\n      query\n    );\n  }\n}\n\nmodule.exports = Polling;\n","const parser = require(\"engine.io-parser\");\nconst Emitter = require(\"component-emitter\");\n\nclass Transport extends Emitter {\n  /**\n   * Transport abstract constructor.\n   *\n   * @param {Object} options.\n   * @api private\n   */\n  constructor(opts) {\n    super();\n\n    this.opts = opts;\n    this.query = opts.query;\n    this.readyState = \"\";\n    this.socket = opts.socket;\n  }\n\n  /**\n   * Emits an error.\n   *\n   * @param {String} str\n   * @return {Transport} for chaining\n   * @api public\n   */\n  onError(msg, desc) {\n    const err = new Error(msg);\n    err.type = \"TransportError\";\n    err.description = desc;\n    this.emit(\"error\", err);\n    return this;\n  }\n\n  /**\n   * Opens the transport.\n   *\n   * @api public\n   */\n  open() {\n    if (\"closed\" === this.readyState || \"\" === this.readyState) {\n      this.readyState = \"opening\";\n      this.doOpen();\n    }\n\n    return this;\n  }\n\n  /**\n   * Closes the transport.\n   *\n   * @api private\n   */\n  close() {\n    if (\"opening\" === this.readyState || \"open\" === this.readyState) {\n      this.doClose();\n      this.onClose();\n    }\n\n    return this;\n  }\n\n  /**\n   * Sends multiple packets.\n   *\n   * @param {Array} packets\n   * @api private\n   */\n  send(packets) {\n    if (\"open\" === this.readyState) {\n      this.write(packets);\n    } else {\n      throw new Error(\"Transport not open\");\n    }\n  }\n\n  /**\n   * Called upon open\n   *\n   * @api private\n   */\n  onOpen() {\n    this.readyState = \"open\";\n    this.writable = true;\n    this.emit(\"open\");\n  }\n\n  /**\n   * Called with data.\n   *\n   * @param {String} data\n   * @api private\n   */\n  onData(data) {\n    const packet = parser.decodePacket(data, this.socket.binaryType);\n    this.onPacket(packet);\n  }\n\n  /**\n   * Called with a decoded packet.\n   */\n  onPacket(packet) {\n    this.emit(\"packet\", packet);\n  }\n\n  /**\n   * Called upon close.\n   *\n   * @api private\n   */\n  onClose() {\n    this.readyState = \"closed\";\n    this.emit(\"close\");\n  }\n}\n\nmodule.exports = Transport;\n","const encodePacket = require(\"./encodePacket\");\nconst decodePacket = require(\"./decodePacket\");\n\nconst SEPARATOR = String.fromCharCode(30); // see https://en.wikipedia.org/wiki/Delimiter#ASCII_delimited_text\n\nconst encodePayload = (packets, callback) => {\n  // some packets may be added to the array while encoding, so the initial length must be saved\n  const length = packets.length;\n  const encodedPackets = new Array(length);\n  let count = 0;\n\n  packets.forEach((packet, i) => {\n    // force base64 encoding for binary packets\n    encodePacket(packet, false, encodedPacket => {\n      encodedPackets[i] = encodedPacket;\n      if (++count === length) {\n        callback(encodedPackets.join(SEPARATOR));\n      }\n    });\n  });\n};\n\nconst decodePayload = (encodedPayload, binaryType) => {\n  const encodedPackets = encodedPayload.split(SEPARATOR);\n  const packets = [];\n  for (let i = 0; i < encodedPackets.length; i++) {\n    const decodedPacket = decodePacket(encodedPackets[i], binaryType);\n    packets.push(decodedPacket);\n    if (decodedPacket.type === \"error\") {\n      break;\n    }\n  }\n  return packets;\n};\n\nmodule.exports = {\n  protocol: 4,\n  encodePacket,\n  encodePayload,\n  decodePacket,\n  decodePayload\n};\n","const { PACKET_TYPES } = require(\"./commons\");\n\nconst withNativeBlob =\n  typeof Blob === \"function\" ||\n  (typeof Blob !== \"undefined\" &&\n    Object.prototype.toString.call(Blob) === \"[object BlobConstructor]\");\nconst withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\n\n// ArrayBuffer.isView method is not defined in IE10\nconst isView = obj => {\n  return typeof ArrayBuffer.isView === \"function\"\n    ? ArrayBuffer.isView(obj)\n    : obj && obj.buffer instanceof ArrayBuffer;\n};\n\nconst encodePacket = ({ type, data }, supportsBinary, callback) => {\n  if (withNativeBlob && data instanceof Blob) {\n    if (supportsBinary) {\n      return callback(data);\n    } else {\n      return encodeBlobAsBase64(data, callback);\n    }\n  } else if (\n    withNativeArrayBuffer &&\n    (data instanceof ArrayBuffer || isView(data))\n  ) {\n    if (supportsBinary) {\n      return callback(data instanceof ArrayBuffer ? data : data.buffer);\n    } else {\n      return encodeBlobAsBase64(new Blob([data]), callback);\n    }\n  }\n  // plain string\n  return callback(PACKET_TYPES[type] + (data || \"\"));\n};\n\nconst encodeBlobAsBase64 = (data, callback) => {\n  const fileReader = new FileReader();\n  fileReader.onload = function() {\n    const content = fileReader.result.split(\",\")[1];\n    callback(\"b\" + content);\n  };\n  return fileReader.readAsDataURL(data);\n};\n\nmodule.exports = encodePacket;\n","const PACKET_TYPES = Object.create(null); // no Map = no polyfill\nPACKET_TYPES[\"open\"] = \"0\";\nPACKET_TYPES[\"close\"] = \"1\";\nPACKET_TYPES[\"ping\"] = \"2\";\nPACKET_TYPES[\"pong\"] = \"3\";\nPACKET_TYPES[\"message\"] = \"4\";\nPACKET_TYPES[\"upgrade\"] = \"5\";\nPACKET_TYPES[\"noop\"] = \"6\";\n\nconst PACKET_TYPES_REVERSE = Object.create(null);\nObject.keys(PACKET_TYPES).forEach(key => {\n  PACKET_TYPES_REVERSE[PACKET_TYPES[key]] = key;\n});\n\nconst ERROR_PACKET = { type: \"error\", data: \"parser error\" };\n\nmodule.exports = {\n  PACKET_TYPES,\n  PACKET_TYPES_REVERSE,\n  ERROR_PACKET\n};\n","const { PACKET_TYPES_REVERSE, ERROR_PACKET } = require(\"./commons\");\n\nconst withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\n\nlet base64decoder;\nif (withNativeArrayBuffer) {\n  base64decoder = require(\"base64-arraybuffer\");\n}\n\nconst decodePacket = (encodedPacket, binaryType) => {\n  if (typeof encodedPacket !== \"string\") {\n    return {\n      type: \"message\",\n      data: mapBinary(encodedPacket, binaryType)\n    };\n  }\n  const type = encodedPacket.charAt(0);\n  if (type === \"b\") {\n    return {\n      type: \"message\",\n      data: decodeBase64Packet(encodedPacket.substring(1), binaryType)\n    };\n  }\n  const packetType = PACKET_TYPES_REVERSE[type];\n  if (!packetType) {\n    return ERROR_PACKET;\n  }\n  return encodedPacket.length > 1\n    ? {\n        type: PACKET_TYPES_REVERSE[type],\n        data: encodedPacket.substring(1)\n      }\n    : {\n        type: PACKET_TYPES_REVERSE[type]\n      };\n};\n\nconst decodeBase64Packet = (data, binaryType) => {\n  if (base64decoder) {\n    const decoded = base64decoder.decode(data);\n    return mapBinary(decoded, binaryType);\n  } else {\n    return { base64: true, data }; // fallback for old browsers\n  }\n};\n\nconst mapBinary = (data, binaryType) => {\n  switch (binaryType) {\n    case \"blob\":\n      return data instanceof ArrayBuffer ? new Blob([data]) : data;\n    case \"arraybuffer\":\n    default:\n      return data; // assuming the data is already an ArrayBuffer\n  }\n};\n\nmodule.exports = decodePacket;\n","/*\n * base64-arraybuffer\n * https://github.com/niklasvh/base64-arraybuffer\n *\n * Copyright (c) 2012 Niklas von Hertzen\n * Licensed under the MIT license.\n */\n(function(chars){\n  \"use strict\";\n\n  exports.encode = function(arraybuffer) {\n    var bytes = new Uint8Array(arraybuffer),\n    i, len = bytes.length, base64 = \"\";\n\n    for (i = 0; i < len; i+=3) {\n      base64 += chars[bytes[i] >> 2];\n      base64 += chars[((bytes[i] & 3) << 4) | (bytes[i + 1] >> 4)];\n      base64 += chars[((bytes[i + 1] & 15) << 2) | (bytes[i + 2] >> 6)];\n      base64 += chars[bytes[i + 2] & 63];\n    }\n\n    if ((len % 3) === 2) {\n      base64 = base64.substring(0, base64.length - 1) + \"=\";\n    } else if (len % 3 === 1) {\n      base64 = base64.substring(0, base64.length - 2) + \"==\";\n    }\n\n    return base64;\n  };\n\n  exports.decode =  function(base64) {\n    var bufferLength = base64.length * 0.75,\n    len = base64.length, i, p = 0,\n    encoded1, encoded2, encoded3, encoded4;\n\n    if (base64[base64.length - 1] === \"=\") {\n      bufferLength--;\n      if (base64[base64.length - 2] === \"=\") {\n        bufferLength--;\n      }\n    }\n\n    var arraybuffer = new ArrayBuffer(bufferLength),\n    bytes = new Uint8Array(arraybuffer);\n\n    for (i = 0; i < len; i+=4) {\n      encoded1 = chars.indexOf(base64[i]);\n      encoded2 = chars.indexOf(base64[i+1]);\n      encoded3 = chars.indexOf(base64[i+2]);\n      encoded4 = chars.indexOf(base64[i+3]);\n\n      bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\n      bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\n      bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\n    }\n\n    return arraybuffer;\n  };\n})(\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\");\n","\r\n/**\r\n * Expose `Emitter`.\r\n */\r\n\r\nif (typeof module !== 'undefined') {\r\n  module.exports = Emitter;\r\n}\r\n\r\n/**\r\n * Initialize a new `Emitter`.\r\n *\r\n * @api public\r\n */\r\n\r\nfunction Emitter(obj) {\r\n  if (obj) return mixin(obj);\r\n};\r\n\r\n/**\r\n * Mixin the emitter properties.\r\n *\r\n * @param {Object} obj\r\n * @return {Object}\r\n * @api private\r\n */\r\n\r\nfunction mixin(obj) {\r\n  for (var key in Emitter.prototype) {\r\n    obj[key] = Emitter.prototype[key];\r\n  }\r\n  return obj;\r\n}\r\n\r\n/**\r\n * Listen on the given `event` with `fn`.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.on =\r\nEmitter.prototype.addEventListener = function(event, fn){\r\n  this._callbacks = this._callbacks || {};\r\n  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])\r\n    .push(fn);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Adds an `event` listener that will be invoked a single\r\n * time then automatically removed.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.once = function(event, fn){\r\n  function on() {\r\n    this.off(event, on);\r\n    fn.apply(this, arguments);\r\n  }\r\n\r\n  on.fn = fn;\r\n  this.on(event, on);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Remove the given callback for `event` or all\r\n * registered callbacks.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.off =\r\nEmitter.prototype.removeListener =\r\nEmitter.prototype.removeAllListeners =\r\nEmitter.prototype.removeEventListener = function(event, fn){\r\n  this._callbacks = this._callbacks || {};\r\n\r\n  // all\r\n  if (0 == arguments.length) {\r\n    this._callbacks = {};\r\n    return this;\r\n  }\r\n\r\n  // specific event\r\n  var callbacks = this._callbacks['$' + event];\r\n  if (!callbacks) return this;\r\n\r\n  // remove all handlers\r\n  if (1 == arguments.length) {\r\n    delete this._callbacks['$' + event];\r\n    return this;\r\n  }\r\n\r\n  // remove specific handler\r\n  var cb;\r\n  for (var i = 0; i < callbacks.length; i++) {\r\n    cb = callbacks[i];\r\n    if (cb === fn || cb.fn === fn) {\r\n      callbacks.splice(i, 1);\r\n      break;\r\n    }\r\n  }\r\n\r\n  // Remove event specific arrays for event types that no\r\n  // one is subscribed for to avoid memory leak.\r\n  if (callbacks.length === 0) {\r\n    delete this._callbacks['$' + event];\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Emit `event` with the given args.\r\n *\r\n * @param {String} event\r\n * @param {Mixed} ...\r\n * @return {Emitter}\r\n */\r\n\r\nEmitter.prototype.emit = function(event){\r\n  this._callbacks = this._callbacks || {};\r\n\r\n  var args = new Array(arguments.length - 1)\r\n    , callbacks = this._callbacks['$' + event];\r\n\r\n  for (var i = 1; i < arguments.length; i++) {\r\n    args[i - 1] = arguments[i];\r\n  }\r\n\r\n  if (callbacks) {\r\n    callbacks = callbacks.slice(0);\r\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\r\n      callbacks[i].apply(this, args);\r\n    }\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Return array of callbacks for `event`.\r\n *\r\n * @param {String} event\r\n * @return {Array}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.listeners = function(event){\r\n  this._callbacks = this._callbacks || {};\r\n  return this._callbacks['$' + event] || [];\r\n};\r\n\r\n/**\r\n * Check if this emitter has `event` handlers.\r\n *\r\n * @param {String} event\r\n * @return {Boolean}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.hasListeners = function(event){\r\n  return !! this.listeners(event).length;\r\n};\r\n","/**\n * Compiles a querystring\n * Returns string representation of the object\n *\n * @param {Object}\n * @api private\n */\n\nexports.encode = function (obj) {\n  var str = '';\n\n  for (var i in obj) {\n    if (obj.hasOwnProperty(i)) {\n      if (str.length) str += '&';\n      str += encodeURIComponent(i) + '=' + encodeURIComponent(obj[i]);\n    }\n  }\n\n  return str;\n};\n\n/**\n * Parses a simple querystring into an object\n *\n * @param {String} qs\n * @api private\n */\n\nexports.decode = function(qs){\n  var qry = {};\n  var pairs = qs.split('&');\n  for (var i = 0, l = pairs.length; i < l; i++) {\n    var pair = pairs[i].split('=');\n    qry[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);\n  }\n  return qry;\n};\n","'use strict';\n\nvar alphabet = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_'.split('')\n  , length = 64\n  , map = {}\n  , seed = 0\n  , i = 0\n  , prev;\n\n/**\n * Return a string representing the specified number.\n *\n * @param {Number} num The number to convert.\n * @returns {String} The string representation of the number.\n * @api public\n */\nfunction encode(num) {\n  var encoded = '';\n\n  do {\n    encoded = alphabet[num % length] + encoded;\n    num = Math.floor(num / length);\n  } while (num > 0);\n\n  return encoded;\n}\n\n/**\n * Return the integer value specified by the given string.\n *\n * @param {String} str The string to convert.\n * @returns {Number} The integer value represented by the string.\n * @api public\n */\nfunction decode(str) {\n  var decoded = 0;\n\n  for (i = 0; i < str.length; i++) {\n    decoded = decoded * length + map[str.charAt(i)];\n  }\n\n  return decoded;\n}\n\n/**\n * Yeast: A tiny growing id generator.\n *\n * @returns {String} A unique id.\n * @api public\n */\nfunction yeast() {\n  var now = encode(+new Date());\n\n  if (now !== prev) return seed = 0, prev = now;\n  return now +'.'+ encode(seed++);\n}\n\n//\n// Map each character to its index.\n//\nfor (; i < length; i++) map[alphabet[i]] = i;\n\n//\n// Expose the `yeast`, `encode` and `decode` functions.\n//\nyeast.encode = encode;\nyeast.decode = decode;\nmodule.exports = yeast;\n","module.exports.pick = (obj, ...attr) => {\n  return attr.reduce((acc, k) => {\n    if (obj.hasOwnProperty(k)) {\n      acc[k] = obj[k];\n    }\n    return acc;\n  }, {});\n};\n","const Polling = require(\"./polling\");\nconst globalThis = require(\"../globalThis\");\n\nconst rNewline = /\\n/g;\nconst rEscapedNewline = /\\\\n/g;\n\n/**\n * Global JSONP callbacks.\n */\n\nlet callbacks;\n\n/**\n * Noop.\n */\n\nfunction empty() {}\n\nclass JSONPPolling extends Polling {\n  /**\n   * JSONP Polling constructor.\n   *\n   * @param {Object} opts.\n   * @api public\n   */\n  constructor(opts) {\n    super(opts);\n\n    this.query = this.query || {};\n\n    // define global callbacks array if not present\n    // we do this here (lazily) to avoid unneeded global pollution\n    if (!callbacks) {\n      // we need to consider multiple engines in the same page\n      callbacks = globalThis.___eio = globalThis.___eio || [];\n    }\n\n    // callback identifier\n    this.index = callbacks.length;\n\n    // add callback to jsonp global\n    const self = this;\n    callbacks.push(function(msg) {\n      self.onData(msg);\n    });\n\n    // append to query string\n    this.query.j = this.index;\n\n    // prevent spurious errors from being emitted when the window is unloaded\n    if (typeof addEventListener === \"function\") {\n      addEventListener(\n        \"beforeunload\",\n        function() {\n          if (self.script) self.script.onerror = empty;\n        },\n        false\n      );\n    }\n  }\n\n  /**\n   * JSONP only supports binary as base64 encoded strings\n   */\n  get supportsBinary() {\n    return false;\n  }\n\n  /**\n   * Closes the socket.\n   *\n   * @api private\n   */\n  doClose() {\n    if (this.script) {\n      this.script.parentNode.removeChild(this.script);\n      this.script = null;\n    }\n\n    if (this.form) {\n      this.form.parentNode.removeChild(this.form);\n      this.form = null;\n      this.iframe = null;\n    }\n\n    super.doClose();\n  }\n\n  /**\n   * Starts a poll cycle.\n   *\n   * @api private\n   */\n  doPoll() {\n    const self = this;\n    const script = document.createElement(\"script\");\n\n    if (this.script) {\n      this.script.parentNode.removeChild(this.script);\n      this.script = null;\n    }\n\n    script.async = true;\n    script.src = this.uri();\n    script.onerror = function(e) {\n      self.onError(\"jsonp poll error\", e);\n    };\n\n    const insertAt = document.getElementsByTagName(\"script\")[0];\n    if (insertAt) {\n      insertAt.parentNode.insertBefore(script, insertAt);\n    } else {\n      (document.head || document.body).appendChild(script);\n    }\n    this.script = script;\n\n    const isUAgecko =\n      \"undefined\" !== typeof navigator && /gecko/i.test(navigator.userAgent);\n\n    if (isUAgecko) {\n      setTimeout(function() {\n        const iframe = document.createElement(\"iframe\");\n        document.body.appendChild(iframe);\n        document.body.removeChild(iframe);\n      }, 100);\n    }\n  }\n\n  /**\n   * Writes with a hidden iframe.\n   *\n   * @param {String} data to send\n   * @param {Function} called upon flush.\n   * @api private\n   */\n  doWrite(data, fn) {\n    const self = this;\n    let iframe;\n\n    if (!this.form) {\n      const form = document.createElement(\"form\");\n      const area = document.createElement(\"textarea\");\n      const id = (this.iframeId = \"eio_iframe_\" + this.index);\n\n      form.className = \"socketio\";\n      form.style.position = \"absolute\";\n      form.style.top = \"-1000px\";\n      form.style.left = \"-1000px\";\n      form.target = id;\n      form.method = \"POST\";\n      form.setAttribute(\"accept-charset\", \"utf-8\");\n      area.name = \"d\";\n      form.appendChild(area);\n      document.body.appendChild(form);\n\n      this.form = form;\n      this.area = area;\n    }\n\n    this.form.action = this.uri();\n\n    function complete() {\n      initIframe();\n      fn();\n    }\n\n    function initIframe() {\n      if (self.iframe) {\n        try {\n          self.form.removeChild(self.iframe);\n        } catch (e) {\n          self.onError(\"jsonp polling iframe removal error\", e);\n        }\n      }\n\n      try {\n        // ie6 dynamic iframes with target=\"\" support (thanks Chris Lambacher)\n        const html = '<iframe src=\"javascript:0\" name=\"' + self.iframeId + '\">';\n        iframe = document.createElement(html);\n      } catch (e) {\n        iframe = document.createElement(\"iframe\");\n        iframe.name = self.iframeId;\n        iframe.src = \"javascript:0\";\n      }\n\n      iframe.id = self.iframeId;\n\n      self.form.appendChild(iframe);\n      self.iframe = iframe;\n    }\n\n    initIframe();\n\n    // escape \\n to prevent it from being converted into \\r\\n by some UAs\n    // double escaping is required for escaped new lines because unescaping of new lines can be done safely on server-side\n    data = data.replace(rEscapedNewline, \"\\\\\\n\");\n    this.area.value = data.replace(rNewline, \"\\\\n\");\n\n    try {\n      this.form.submit();\n    } catch (e) {}\n\n    if (this.iframe.attachEvent) {\n      this.iframe.onreadystatechange = function() {\n        if (self.iframe.readyState === \"complete\") {\n          complete();\n        }\n      };\n    } else {\n      this.iframe.onload = complete;\n    }\n  }\n}\n\nmodule.exports = JSONPPolling;\n","const Transport = require(\"../transport\");\nconst parser = require(\"engine.io-parser\");\nconst parseqs = require(\"parseqs\");\nconst yeast = require(\"yeast\");\nconst { pick } = require(\"../util\");\nconst {\n  WebSocket,\n  usingBrowserWebSocket,\n  defaultBinaryType\n} = require(\"./websocket-constructor\");\n\nconst debug = require(\"debug\")(\"engine.io-client:websocket\");\n\n// detect ReactNative environment\nconst isReactNative =\n  typeof navigator !== \"undefined\" &&\n  typeof navigator.product === \"string\" &&\n  navigator.product.toLowerCase() === \"reactnative\";\n\nclass WS extends Transport {\n  /**\n   * WebSocket transport constructor.\n   *\n   * @api {Object} connection options\n   * @api public\n   */\n  constructor(opts) {\n    super(opts);\n\n    this.supportsBinary = !opts.forceBase64;\n  }\n\n  /**\n   * Transport name.\n   *\n   * @api public\n   */\n  get name() {\n    return \"websocket\";\n  }\n\n  /**\n   * Opens socket.\n   *\n   * @api private\n   */\n  doOpen() {\n    if (!this.check()) {\n      // let probe timeout\n      return;\n    }\n\n    const uri = this.uri();\n    const protocols = this.opts.protocols;\n\n    // React Native only supports the 'headers' option, and will print a warning if anything else is passed\n    const opts = isReactNative\n      ? {}\n      : pick(\n          this.opts,\n          \"agent\",\n          \"perMessageDeflate\",\n          \"pfx\",\n          \"key\",\n          \"passphrase\",\n          \"cert\",\n          \"ca\",\n          \"ciphers\",\n          \"rejectUnauthorized\",\n          \"localAddress\",\n          \"protocolVersion\",\n          \"origin\",\n          \"maxPayload\",\n          \"family\",\n          \"checkServerIdentity\"\n        );\n\n    if (this.opts.extraHeaders) {\n      opts.headers = this.opts.extraHeaders;\n    }\n\n    try {\n      this.ws =\n        usingBrowserWebSocket && !isReactNative\n          ? protocols\n            ? new WebSocket(uri, protocols)\n            : new WebSocket(uri)\n          : new WebSocket(uri, protocols, opts);\n    } catch (err) {\n      return this.emit(\"error\", err);\n    }\n\n    this.ws.binaryType = this.socket.binaryType || defaultBinaryType;\n\n    this.addEventListeners();\n  }\n\n  /**\n   * Adds event listeners to the socket\n   *\n   * @api private\n   */\n  addEventListeners() {\n    const self = this;\n\n    this.ws.onopen = function() {\n      self.onOpen();\n    };\n    this.ws.onclose = function() {\n      self.onClose();\n    };\n    this.ws.onmessage = function(ev) {\n      self.onData(ev.data);\n    };\n    this.ws.onerror = function(e) {\n      self.onError(\"websocket error\", e);\n    };\n  }\n\n  /**\n   * Writes data to socket.\n   *\n   * @param {Array} array of packets.\n   * @api private\n   */\n  write(packets) {\n    const self = this;\n    this.writable = false;\n\n    // encodePacket efficient as it uses WS framing\n    // no need for encodePayload\n    let total = packets.length;\n    let i = 0;\n    const l = total;\n    for (; i < l; i++) {\n      (function(packet) {\n        parser.encodePacket(packet, self.supportsBinary, function(data) {\n          // always create a new object (GH-437)\n          const opts = {};\n          if (!usingBrowserWebSocket) {\n            if (packet.options) {\n              opts.compress = packet.options.compress;\n            }\n\n            if (self.opts.perMessageDeflate) {\n              const len =\n                \"string\" === typeof data\n                  ? Buffer.byteLength(data)\n                  : data.length;\n              if (len < self.opts.perMessageDeflate.threshold) {\n                opts.compress = false;\n              }\n            }\n          }\n\n          // Sometimes the websocket has already been closed but the browser didn't\n          // have a chance of informing us about it yet, in that case send will\n          // throw an error\n          try {\n            if (usingBrowserWebSocket) {\n              // TypeError is thrown when passing the second argument on Safari\n              self.ws.send(data);\n            } else {\n              self.ws.send(data, opts);\n            }\n          } catch (e) {\n            debug(\"websocket closed before onclose event\");\n          }\n\n          --total || done();\n        });\n      })(packets[i]);\n    }\n\n    function done() {\n      self.emit(\"flush\");\n\n      // fake drain\n      // defer to next tick to allow Socket to clear writeBuffer\n      setTimeout(function() {\n        self.writable = true;\n        self.emit(\"drain\");\n      }, 0);\n    }\n  }\n\n  /**\n   * Called upon close\n   *\n   * @api private\n   */\n  onClose() {\n    Transport.prototype.onClose.call(this);\n  }\n\n  /**\n   * Closes socket.\n   *\n   * @api private\n   */\n  doClose() {\n    if (typeof this.ws !== \"undefined\") {\n      this.ws.close();\n    }\n  }\n\n  /**\n   * Generates uri for connection.\n   *\n   * @api private\n   */\n  uri() {\n    let query = this.query || {};\n    const schema = this.opts.secure ? \"wss\" : \"ws\";\n    let port = \"\";\n\n    // avoid port if default for schema\n    if (\n      this.opts.port &&\n      ((\"wss\" === schema && Number(this.opts.port) !== 443) ||\n        (\"ws\" === schema && Number(this.opts.port) !== 80))\n    ) {\n      port = \":\" + this.opts.port;\n    }\n\n    // append timestamp to URI\n    if (this.opts.timestampRequests) {\n      query[this.opts.timestampParam] = yeast();\n    }\n\n    // communicate binary support capabilities\n    if (!this.supportsBinary) {\n      query.b64 = 1;\n    }\n\n    query = parseqs.encode(query);\n\n    // prepend ? to query\n    if (query.length) {\n      query = \"?\" + query;\n    }\n\n    const ipv6 = this.opts.hostname.indexOf(\":\") !== -1;\n    return (\n      schema +\n      \"://\" +\n      (ipv6 ? \"[\" + this.opts.hostname + \"]\" : this.opts.hostname) +\n      port +\n      this.opts.path +\n      query\n    );\n  }\n\n  /**\n   * Feature detection for WebSocket.\n   *\n   * @return {Boolean} whether this transport is available.\n   * @api public\n   */\n  check() {\n    return (\n      !!WebSocket &&\n      !(\"__initialize\" in WebSocket && this.name === WS.prototype.name)\n    );\n  }\n}\n\nmodule.exports = WS;\n",null,null,null,"const globalThis = require(\"../globalThis\");\n\nmodule.exports = {\n  WebSocket: globalThis.WebSocket || globalThis.MozWebSocket,\n  usingBrowserWebSocket: true,\n  defaultBinaryType: \"arraybuffer\"\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Socket = void 0;\nconst socket_io_parser_1 = require(\"socket.io-parser\");\nconst Emitter = require(\"component-emitter\");\nconst on_1 = require(\"./on\");\nconst debug = require(\"debug\")(\"socket.io-client:socket\");\n/**\n * Internal events.\n * These events can't be emitted by the user.\n */\nconst RESERVED_EVENTS = Object.freeze({\n    connect: 1,\n    connect_error: 1,\n    disconnect: 1,\n    disconnecting: 1,\n    // EventEmitter reserved events: https://nodejs.org/api/events.html#events_event_newlistener\n    newListener: 1,\n    removeListener: 1,\n});\nclass Socket extends Emitter {\n    /**\n     * `Socket` constructor.\n     *\n     * @public\n     */\n    constructor(io, nsp, opts) {\n        super();\n        this.receiveBuffer = [];\n        this.sendBuffer = [];\n        this.ids = 0;\n        this.acks = {};\n        this.flags = {};\n        this.io = io;\n        this.nsp = nsp;\n        this.ids = 0;\n        this.acks = {};\n        this.receiveBuffer = [];\n        this.sendBuffer = [];\n        this.connected = false;\n        this.disconnected = true;\n        this.flags = {};\n        if (opts && opts.auth) {\n            this.auth = opts.auth;\n        }\n        if (this.io._autoConnect)\n            this.open();\n    }\n    /**\n     * Subscribe to open, close and packet events\n     *\n     * @private\n     */\n    subEvents() {\n        if (this.subs)\n            return;\n        const io = this.io;\n        this.subs = [\n            on_1.on(io, \"open\", this.onopen.bind(this)),\n            on_1.on(io, \"packet\", this.onpacket.bind(this)),\n            on_1.on(io, \"error\", this.onerror.bind(this)),\n            on_1.on(io, \"close\", this.onclose.bind(this)),\n        ];\n    }\n    /**\n     * Whether the Socket will try to reconnect when its Manager connects or reconnects\n     */\n    get active() {\n        return !!this.subs;\n    }\n    /**\n     * \"Opens\" the socket.\n     *\n     * @public\n     */\n    connect() {\n        if (this.connected)\n            return this;\n        this.subEvents();\n        if (!this.io[\"_reconnecting\"])\n            this.io.open(); // ensure open\n        if (\"open\" === this.io._readyState)\n            this.onopen();\n        return this;\n    }\n    /**\n     * Alias for connect()\n     */\n    open() {\n        return this.connect();\n    }\n    /**\n     * Sends a `message` event.\n     *\n     * @return self\n     * @public\n     */\n    send(...args) {\n        args.unshift(\"message\");\n        this.emit.apply(this, args);\n        return this;\n    }\n    /**\n     * Override `emit`.\n     * If the event is in `events`, it's emitted normally.\n     *\n     * @param ev - event name\n     * @return self\n     * @public\n     */\n    emit(ev, ...args) {\n        if (RESERVED_EVENTS.hasOwnProperty(ev)) {\n            throw new Error('\"' + ev + '\" is a reserved event name');\n        }\n        args.unshift(ev);\n        const packet = {\n            type: socket_io_parser_1.PacketType.EVENT,\n            data: args,\n        };\n        packet.options = {};\n        packet.options.compress = this.flags.compress !== false;\n        // event ack callback\n        if (\"function\" === typeof args[args.length - 1]) {\n            debug(\"emitting packet with ack id %d\", this.ids);\n            this.acks[this.ids] = args.pop();\n            packet.id = this.ids++;\n        }\n        const isTransportWritable = this.io.engine &&\n            this.io.engine.transport &&\n            this.io.engine.transport.writable;\n        const discardPacket = this.flags.volatile && (!isTransportWritable || !this.connected);\n        if (discardPacket) {\n            debug(\"discard packet as the transport is not currently writable\");\n        }\n        else if (this.connected) {\n            this.packet(packet);\n        }\n        else {\n            this.sendBuffer.push(packet);\n        }\n        this.flags = {};\n        return this;\n    }\n    /**\n     * Sends a packet.\n     *\n     * @param packet\n     * @private\n     */\n    packet(packet) {\n        packet.nsp = this.nsp;\n        this.io._packet(packet);\n    }\n    /**\n     * Called upon engine `open`.\n     *\n     * @private\n     */\n    onopen() {\n        debug(\"transport is open - connecting\");\n        if (typeof this.auth == \"function\") {\n            this.auth((data) => {\n                this.packet({ type: socket_io_parser_1.PacketType.CONNECT, data });\n            });\n        }\n        else {\n            this.packet({ type: socket_io_parser_1.PacketType.CONNECT, data: this.auth });\n        }\n    }\n    /**\n     * Called upon engine or manager `error`.\n     *\n     * @param err\n     * @private\n     */\n    onerror(err) {\n        if (!this.connected) {\n            super.emit(\"connect_error\", err);\n        }\n    }\n    /**\n     * Called upon engine `close`.\n     *\n     * @param reason\n     * @private\n     */\n    onclose(reason) {\n        debug(\"close (%s)\", reason);\n        this.connected = false;\n        this.disconnected = true;\n        delete this.id;\n        super.emit(\"disconnect\", reason);\n    }\n    /**\n     * Called with socket packet.\n     *\n     * @param packet\n     * @private\n     */\n    onpacket(packet) {\n        const sameNamespace = packet.nsp === this.nsp;\n        if (!sameNamespace)\n            return;\n        switch (packet.type) {\n            case socket_io_parser_1.PacketType.CONNECT:\n                if (packet.data && packet.data.sid) {\n                    const id = packet.data.sid;\n                    this.onconnect(id);\n                }\n                else {\n                    super.emit(\"connect_error\", new Error(\"It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)\"));\n                }\n                break;\n            case socket_io_parser_1.PacketType.EVENT:\n                this.onevent(packet);\n                break;\n            case socket_io_parser_1.PacketType.BINARY_EVENT:\n                this.onevent(packet);\n                break;\n            case socket_io_parser_1.PacketType.ACK:\n                this.onack(packet);\n                break;\n            case socket_io_parser_1.PacketType.BINARY_ACK:\n                this.onack(packet);\n                break;\n            case socket_io_parser_1.PacketType.DISCONNECT:\n                this.ondisconnect();\n                break;\n            case socket_io_parser_1.PacketType.CONNECT_ERROR:\n                const err = new Error(packet.data.message);\n                // @ts-ignore\n                err.data = packet.data.data;\n                super.emit(\"connect_error\", err);\n                break;\n        }\n    }\n    /**\n     * Called upon a server event.\n     *\n     * @param packet\n     * @private\n     */\n    onevent(packet) {\n        const args = packet.data || [];\n        debug(\"emitting event %j\", args);\n        if (null != packet.id) {\n            debug(\"attaching ack callback to event\");\n            args.push(this.ack(packet.id));\n        }\n        if (this.connected) {\n            this.emitEvent(args);\n        }\n        else {\n            this.receiveBuffer.push(Object.freeze(args));\n        }\n    }\n    emitEvent(args) {\n        if (this._anyListeners && this._anyListeners.length) {\n            const listeners = this._anyListeners.slice();\n            for (const listener of listeners) {\n                listener.apply(this, args);\n            }\n        }\n        super.emit.apply(this, args);\n    }\n    /**\n     * Produces an ack callback to emit with an event.\n     *\n     * @private\n     */\n    ack(id) {\n        const self = this;\n        let sent = false;\n        return function (...args) {\n            // prevent double callbacks\n            if (sent)\n                return;\n            sent = true;\n            debug(\"sending ack %j\", args);\n            self.packet({\n                type: socket_io_parser_1.PacketType.ACK,\n                id: id,\n                data: args,\n            });\n        };\n    }\n    /**\n     * Called upon a server acknowlegement.\n     *\n     * @param packet\n     * @private\n     */\n    onack(packet) {\n        const ack = this.acks[packet.id];\n        if (\"function\" === typeof ack) {\n            debug(\"calling ack %s with %j\", packet.id, packet.data);\n            ack.apply(this, packet.data);\n            delete this.acks[packet.id];\n        }\n        else {\n            debug(\"bad ack %s\", packet.id);\n        }\n    }\n    /**\n     * Called upon server connect.\n     *\n     * @private\n     */\n    onconnect(id) {\n        debug(\"socket connected with id %s\", id);\n        this.id = id;\n        this.connected = true;\n        this.disconnected = false;\n        super.emit(\"connect\");\n        this.emitBuffered();\n    }\n    /**\n     * Emit buffered events (received and emitted).\n     *\n     * @private\n     */\n    emitBuffered() {\n        this.receiveBuffer.forEach((args) => this.emitEvent(args));\n        this.receiveBuffer = [];\n        this.sendBuffer.forEach((packet) => this.packet(packet));\n        this.sendBuffer = [];\n    }\n    /**\n     * Called upon server disconnect.\n     *\n     * @private\n     */\n    ondisconnect() {\n        debug(\"server disconnect (%s)\", this.nsp);\n        this.destroy();\n        this.onclose(\"io server disconnect\");\n    }\n    /**\n     * Called upon forced client/server side disconnections,\n     * this method ensures the manager stops tracking us and\n     * that reconnections don't get triggered for this.\n     *\n     * @private\n     */\n    destroy() {\n        if (this.subs) {\n            // clean subscriptions to avoid reconnections\n            this.subs.forEach((subDestroy) => subDestroy());\n            this.subs = undefined;\n        }\n        this.io[\"_destroy\"](this);\n    }\n    /**\n     * Disconnects the socket manually.\n     *\n     * @return self\n     * @public\n     */\n    disconnect() {\n        if (this.connected) {\n            debug(\"performing disconnect (%s)\", this.nsp);\n            this.packet({ type: socket_io_parser_1.PacketType.DISCONNECT });\n        }\n        // remove socket from pool\n        this.destroy();\n        if (this.connected) {\n            // fire events\n            this.onclose(\"io client disconnect\");\n        }\n        return this;\n    }\n    /**\n     * Alias for disconnect()\n     *\n     * @return self\n     * @public\n     */\n    close() {\n        return this.disconnect();\n    }\n    /**\n     * Sets the compress flag.\n     *\n     * @param compress - if `true`, compresses the sending data\n     * @return self\n     * @public\n     */\n    compress(compress) {\n        this.flags.compress = compress;\n        return this;\n    }\n    /**\n     * Sets a modifier for a subsequent event emission that the event message will be dropped when this socket is not\n     * ready to send messages.\n     *\n     * @returns self\n     * @public\n     */\n    get volatile() {\n        this.flags.volatile = true;\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback.\n     *\n     * @param listener\n     * @public\n     */\n    onAny(listener) {\n        this._anyListeners = this._anyListeners || [];\n        this._anyListeners.push(listener);\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback. The listener is added to the beginning of the listeners array.\n     *\n     * @param listener\n     * @public\n     */\n    prependAny(listener) {\n        this._anyListeners = this._anyListeners || [];\n        this._anyListeners.unshift(listener);\n        return this;\n    }\n    /**\n     * Removes the listener that will be fired when any event is emitted.\n     *\n     * @param listener\n     * @public\n     */\n    offAny(listener) {\n        if (!this._anyListeners) {\n            return this;\n        }\n        if (listener) {\n            const listeners = this._anyListeners;\n            for (let i = 0; i < listeners.length; i++) {\n                if (listener === listeners[i]) {\n                    listeners.splice(i, 1);\n                    return this;\n                }\n            }\n        }\n        else {\n            this._anyListeners = [];\n        }\n        return this;\n    }\n    /**\n     * Returns an array of listeners that are listening for any event that is specified. This array can be manipulated,\n     * e.g. to remove listeners.\n     *\n     * @public\n     */\n    listenersAny() {\n        return this._anyListeners || [];\n    }\n}\nexports.Socket = Socket;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Decoder = exports.Encoder = exports.PacketType = exports.protocol = void 0;\nconst Emitter = require(\"component-emitter\");\nconst binary_1 = require(\"./binary\");\nconst is_binary_1 = require(\"./is-binary\");\nconst debug = require(\"debug\")(\"socket.io-parser\");\n/**\n * Protocol version.\n *\n * @public\n */\nexports.protocol = 5;\nvar PacketType;\n(function (PacketType) {\n    PacketType[PacketType[\"CONNECT\"] = 0] = \"CONNECT\";\n    PacketType[PacketType[\"DISCONNECT\"] = 1] = \"DISCONNECT\";\n    PacketType[PacketType[\"EVENT\"] = 2] = \"EVENT\";\n    PacketType[PacketType[\"ACK\"] = 3] = \"ACK\";\n    PacketType[PacketType[\"CONNECT_ERROR\"] = 4] = \"CONNECT_ERROR\";\n    PacketType[PacketType[\"BINARY_EVENT\"] = 5] = \"BINARY_EVENT\";\n    PacketType[PacketType[\"BINARY_ACK\"] = 6] = \"BINARY_ACK\";\n})(PacketType = exports.PacketType || (exports.PacketType = {}));\n/**\n * A socket.io Encoder instance\n */\nclass Encoder {\n    /**\n     * Encode a packet as a single string if non-binary, or as a\n     * buffer sequence, depending on packet type.\n     *\n     * @param {Object} obj - packet object\n     */\n    encode(obj) {\n        debug(\"encoding packet %j\", obj);\n        if (obj.type === PacketType.EVENT || obj.type === PacketType.ACK) {\n            if (is_binary_1.hasBinary(obj)) {\n                obj.type =\n                    obj.type === PacketType.EVENT\n                        ? PacketType.BINARY_EVENT\n                        : PacketType.BINARY_ACK;\n                return this.encodeAsBinary(obj);\n            }\n        }\n        return [this.encodeAsString(obj)];\n    }\n    /**\n     * Encode packet as string.\n     */\n    encodeAsString(obj) {\n        // first is type\n        let str = \"\" + obj.type;\n        // attachments if we have them\n        if (obj.type === PacketType.BINARY_EVENT ||\n            obj.type === PacketType.BINARY_ACK) {\n            str += obj.attachments + \"-\";\n        }\n        // if we have a namespace other than `/`\n        // we append it followed by a comma `,`\n        if (obj.nsp && \"/\" !== obj.nsp) {\n            str += obj.nsp + \",\";\n        }\n        // immediately followed by the id\n        if (null != obj.id) {\n            str += obj.id;\n        }\n        // json data\n        if (null != obj.data) {\n            str += JSON.stringify(obj.data);\n        }\n        debug(\"encoded %j as %s\", obj, str);\n        return str;\n    }\n    /**\n     * Encode packet as 'buffer sequence' by removing blobs, and\n     * deconstructing packet into object with placeholders and\n     * a list of buffers.\n     */\n    encodeAsBinary(obj) {\n        const deconstruction = binary_1.deconstructPacket(obj);\n        const pack = this.encodeAsString(deconstruction.packet);\n        const buffers = deconstruction.buffers;\n        buffers.unshift(pack); // add packet info to beginning of data list\n        return buffers; // write all the buffers\n    }\n}\nexports.Encoder = Encoder;\n/**\n * A socket.io Decoder instance\n *\n * @return {Object} decoder\n */\nclass Decoder extends Emitter {\n    constructor() {\n        super();\n    }\n    /**\n     * Decodes an encoded packet string into packet JSON.\n     *\n     * @param {String} obj - encoded packet\n     */\n    add(obj) {\n        let packet;\n        if (typeof obj === \"string\") {\n            packet = this.decodeString(obj);\n            if (packet.type === PacketType.BINARY_EVENT ||\n                packet.type === PacketType.BINARY_ACK) {\n                // binary packet's json\n                this.reconstructor = new BinaryReconstructor(packet);\n                // no attachments, labeled binary but no binary data to follow\n                if (packet.attachments === 0) {\n                    super.emit(\"decoded\", packet);\n                }\n            }\n            else {\n                // non-binary full packet\n                super.emit(\"decoded\", packet);\n            }\n        }\n        else if (is_binary_1.isBinary(obj) || obj.base64) {\n            // raw binary data\n            if (!this.reconstructor) {\n                throw new Error(\"got binary data when not reconstructing a packet\");\n            }\n            else {\n                packet = this.reconstructor.takeBinaryData(obj);\n                if (packet) {\n                    // received final buffer\n                    this.reconstructor = null;\n                    super.emit(\"decoded\", packet);\n                }\n            }\n        }\n        else {\n            throw new Error(\"Unknown type: \" + obj);\n        }\n    }\n    /**\n     * Decode a packet String (JSON data)\n     *\n     * @param {String} str\n     * @return {Object} packet\n     */\n    decodeString(str) {\n        let i = 0;\n        // look up type\n        const p = {\n            type: Number(str.charAt(0)),\n        };\n        if (PacketType[p.type] === undefined) {\n            throw new Error(\"unknown packet type \" + p.type);\n        }\n        // look up attachments if type binary\n        if (p.type === PacketType.BINARY_EVENT ||\n            p.type === PacketType.BINARY_ACK) {\n            const start = i + 1;\n            while (str.charAt(++i) !== \"-\" && i != str.length) { }\n            const buf = str.substring(start, i);\n            if (buf != Number(buf) || str.charAt(i) !== \"-\") {\n                throw new Error(\"Illegal attachments\");\n            }\n            p.attachments = Number(buf);\n        }\n        // look up namespace (if any)\n        if (\"/\" === str.charAt(i + 1)) {\n            const start = i + 1;\n            while (++i) {\n                const c = str.charAt(i);\n                if (\",\" === c)\n                    break;\n                if (i === str.length)\n                    break;\n            }\n            p.nsp = str.substring(start, i);\n        }\n        else {\n            p.nsp = \"/\";\n        }\n        // look up id\n        const next = str.charAt(i + 1);\n        if (\"\" !== next && Number(next) == next) {\n            const start = i + 1;\n            while (++i) {\n                const c = str.charAt(i);\n                if (null == c || Number(c) != c) {\n                    --i;\n                    break;\n                }\n                if (i === str.length)\n                    break;\n            }\n            p.id = Number(str.substring(start, i + 1));\n        }\n        // look up json data\n        if (str.charAt(++i)) {\n            const payload = tryParse(str.substr(i));\n            if (Decoder.isPayloadValid(p.type, payload)) {\n                p.data = payload;\n            }\n            else {\n                throw new Error(\"invalid payload\");\n            }\n        }\n        debug(\"decoded %s as %j\", str, p);\n        return p;\n    }\n    static isPayloadValid(type, payload) {\n        switch (type) {\n            case PacketType.CONNECT:\n                return typeof payload === \"object\";\n            case PacketType.DISCONNECT:\n                return payload === undefined;\n            case PacketType.CONNECT_ERROR:\n                return typeof payload === \"string\" || typeof payload === \"object\";\n            case PacketType.EVENT:\n            case PacketType.BINARY_EVENT:\n                return Array.isArray(payload) && payload.length > 0;\n            case PacketType.ACK:\n            case PacketType.BINARY_ACK:\n                return Array.isArray(payload);\n        }\n    }\n    /**\n     * Deallocates a parser's resources\n     */\n    destroy() {\n        if (this.reconstructor) {\n            this.reconstructor.finishedReconstruction();\n        }\n    }\n}\nexports.Decoder = Decoder;\nfunction tryParse(str) {\n    try {\n        return JSON.parse(str);\n    }\n    catch (e) {\n        return false;\n    }\n}\n/**\n * A manager of a binary event's 'buffer sequence'. Should\n * be constructed whenever a packet of type BINARY_EVENT is\n * decoded.\n *\n * @param {Object} packet\n * @return {BinaryReconstructor} initialized reconstructor\n */\nclass BinaryReconstructor {\n    constructor(packet) {\n        this.packet = packet;\n        this.buffers = [];\n        this.reconPack = packet;\n    }\n    /**\n     * Method to be called when binary data received from connection\n     * after a BINARY_EVENT packet.\n     *\n     * @param {Buffer | ArrayBuffer} binData - the raw binary data received\n     * @return {null | Object} returns null if more binary data is expected or\n     *   a reconstructed packet object if all buffers have been received.\n     */\n    takeBinaryData(binData) {\n        this.buffers.push(binData);\n        if (this.buffers.length === this.reconPack.attachments) {\n            // done with buffer list\n            const packet = binary_1.reconstructPacket(this.reconPack, this.buffers);\n            this.finishedReconstruction();\n            return packet;\n        }\n        return null;\n    }\n    /**\n     * Cleans up binary packet reconstruction variables.\n     */\n    finishedReconstruction() {\n        this.reconPack = null;\n        this.buffers = [];\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.reconstructPacket = exports.deconstructPacket = void 0;\nconst is_binary_1 = require(\"./is-binary\");\n/**\n * Replaces every Buffer | ArrayBuffer | Blob | File in packet with a numbered placeholder.\n *\n * @param {Object} packet - socket.io event packet\n * @return {Object} with deconstructed packet and list of buffers\n * @public\n */\nfunction deconstructPacket(packet) {\n    const buffers = [];\n    const packetData = packet.data;\n    const pack = packet;\n    pack.data = _deconstructPacket(packetData, buffers);\n    pack.attachments = buffers.length; // number of binary 'attachments'\n    return { packet: pack, buffers: buffers };\n}\nexports.deconstructPacket = deconstructPacket;\nfunction _deconstructPacket(data, buffers) {\n    if (!data)\n        return data;\n    if (is_binary_1.isBinary(data)) {\n        const placeholder = { _placeholder: true, num: buffers.length };\n        buffers.push(data);\n        return placeholder;\n    }\n    else if (Array.isArray(data)) {\n        const newData = new Array(data.length);\n        for (let i = 0; i < data.length; i++) {\n            newData[i] = _deconstructPacket(data[i], buffers);\n        }\n        return newData;\n    }\n    else if (typeof data === \"object\" && !(data instanceof Date)) {\n        const newData = {};\n        for (const key in data) {\n            if (data.hasOwnProperty(key)) {\n                newData[key] = _deconstructPacket(data[key], buffers);\n            }\n        }\n        return newData;\n    }\n    return data;\n}\n/**\n * Reconstructs a binary packet from its placeholder packet and buffers\n *\n * @param {Object} packet - event packet with placeholders\n * @param {Array} buffers - binary buffers to put in placeholder positions\n * @return {Object} reconstructed packet\n * @public\n */\nfunction reconstructPacket(packet, buffers) {\n    packet.data = _reconstructPacket(packet.data, buffers);\n    packet.attachments = undefined; // no longer useful\n    return packet;\n}\nexports.reconstructPacket = reconstructPacket;\nfunction _reconstructPacket(data, buffers) {\n    if (!data)\n        return data;\n    if (data && data._placeholder) {\n        return buffers[data.num]; // appropriate buffer (should be natural order anyway)\n    }\n    else if (Array.isArray(data)) {\n        for (let i = 0; i < data.length; i++) {\n            data[i] = _reconstructPacket(data[i], buffers);\n        }\n    }\n    else if (typeof data === \"object\") {\n        for (const key in data) {\n            if (data.hasOwnProperty(key)) {\n                data[key] = _reconstructPacket(data[key], buffers);\n            }\n        }\n    }\n    return data;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.hasBinary = exports.isBinary = void 0;\nconst withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\nconst isView = (obj) => {\n    return typeof ArrayBuffer.isView === \"function\"\n        ? ArrayBuffer.isView(obj)\n        : obj.buffer instanceof ArrayBuffer;\n};\nconst toString = Object.prototype.toString;\nconst withNativeBlob = typeof Blob === \"function\" ||\n    (typeof Blob !== \"undefined\" &&\n        toString.call(Blob) === \"[object BlobConstructor]\");\nconst withNativeFile = typeof File === \"function\" ||\n    (typeof File !== \"undefined\" &&\n        toString.call(File) === \"[object FileConstructor]\");\n/**\n * Returns true if obj is a Buffer, an ArrayBuffer, a Blob or a File.\n *\n * @private\n */\nfunction isBinary(obj) {\n    return ((withNativeArrayBuffer && (obj instanceof ArrayBuffer || isView(obj))) ||\n        (withNativeBlob && obj instanceof Blob) ||\n        (withNativeFile && obj instanceof File));\n}\nexports.isBinary = isBinary;\nfunction hasBinary(obj, toJSON) {\n    if (!obj || typeof obj !== \"object\") {\n        return false;\n    }\n    if (Array.isArray(obj)) {\n        for (let i = 0, l = obj.length; i < l; i++) {\n            if (hasBinary(obj[i])) {\n                return true;\n            }\n        }\n        return false;\n    }\n    if (isBinary(obj)) {\n        return true;\n    }\n    if (obj.toJSON &&\n        typeof obj.toJSON === \"function\" &&\n        arguments.length === 1) {\n        return hasBinary(obj.toJSON(), true);\n    }\n    for (const key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key) && hasBinary(obj[key])) {\n            return true;\n        }\n    }\n    return false;\n}\nexports.hasBinary = hasBinary;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.on = void 0;\nfunction on(obj, ev, fn) {\n    obj.on(ev, fn);\n    return function subDestroy() {\n        obj.off(ev, fn);\n    };\n}\nexports.on = on;\n","\n/**\n * Expose `Backoff`.\n */\n\nmodule.exports = Backoff;\n\n/**\n * Initialize backoff timer with `opts`.\n *\n * - `min` initial timeout in milliseconds [100]\n * - `max` max timeout [10000]\n * - `jitter` [0]\n * - `factor` [2]\n *\n * @param {Object} opts\n * @api public\n */\n\nfunction Backoff(opts) {\n  opts = opts || {};\n  this.ms = opts.min || 100;\n  this.max = opts.max || 10000;\n  this.factor = opts.factor || 2;\n  this.jitter = opts.jitter > 0 && opts.jitter <= 1 ? opts.jitter : 0;\n  this.attempts = 0;\n}\n\n/**\n * Return the backoff duration.\n *\n * @return {Number}\n * @api public\n */\n\nBackoff.prototype.duration = function(){\n  var ms = this.ms * Math.pow(this.factor, this.attempts++);\n  if (this.jitter) {\n    var rand =  Math.random();\n    var deviation = Math.floor(rand * this.jitter * ms);\n    ms = (Math.floor(rand * 10) & 1) == 0  ? ms - deviation : ms + deviation;\n  }\n  return Math.min(ms, this.max) | 0;\n};\n\n/**\n * Reset the number of attempts.\n *\n * @api public\n */\n\nBackoff.prototype.reset = function(){\n  this.attempts = 0;\n};\n\n/**\n * Set the minimum duration\n *\n * @api public\n */\n\nBackoff.prototype.setMin = function(min){\n  this.ms = min;\n};\n\n/**\n * Set the maximum duration\n *\n * @api public\n */\n\nBackoff.prototype.setMax = function(max){\n  this.max = max;\n};\n\n/**\n * Set the jitter\n *\n * @api public\n */\n\nBackoff.prototype.setJitter = function(jitter){\n  this.jitter = jitter;\n};\n\n"],"names":["HMR_HOST","HMR_PORT","HMR_ENV_HASH","module","bundle","HMR_BUNDLE_ID","OVERLAY_ID","OldModule","Module","moduleName","call","hot","data","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","push","dispose","checkedAssets","assetsToAccept","acceptedAssets","parent","isParcelRequire","WebSocket","hostname","location","protocol","indexOf","port","ws","onmessage","event","JSON","parse","type","removeErrorOverlay","assets","filter","asset","envHash","handled","forEach","didAccept","hmrAcceptCheck","global","parcelRequire","id","console","clear","hmrApply","i","length","hmrAcceptRun","window","reload","ansiDiagnostic","diagnostics","ansi","stack","codeframe","error","message","hints","join","overlay","createErrorOverlay","html","document","body","appendChild","onerror","e","onclose","warn","getElementById","remove","log","createElement","errorHTML","diagnostic","map","hint","innerHTML","getParents","modules","parents","k","d","dep","Array","isArray","concat","updateLink","link","newLink","cloneNode","onload","parentNode","removeChild","setAttribute","getAttribute","split","Date","now","insertBefore","nextSibling","cssTimeout","reloadCSS","setTimeout","links","querySelectorAll","absolute","test","Function","output","depsByBundle","cached","cache","some","v","cb","assetsToAlsoAccept","apply","SOCKET_SERVER_URL","socket","clients","entities","heads","RTCPeerConnection","RTCSessionDescription","iceServerList","videoWidth","videoHeight","videoFrameRate","localMediaStream","mediaConstraints","audio","video","width","height","frameRate","AFRAME","registerComponent","schema","key","default","init","addEventListener","evt","detail","clientId","initAsync","el","className","firstUpdateData","owner","initialized","addClientGL","update","oldData","Object","keys","afu","tick","time","delta","updateVideoTextures","availableClients","entries","_id","remoteVideo","remoteVideoCanvas","texture","getElementsByClassName","_texture","redrawVideoCanvas","_videoEl","_canvasEl","_videoTex","_canvasDrawingContext","getContext","readyState","HAVE_ENOUGH_DATA","drawImage","needsUpdate","getMedia","initSocketConnection","NAF","connection","adapter","emit","room","on","params","_clientNum","_ids","_iceServers","socketid","addClient","callUser","clientCount","alreadyHasUser","removeClientGL","peerConnection","setRemoteDescription","offer","answer","createAnswer","setLocalDescription","to","isAlreadyCalling","alert","addIceCandidate","candidate","_mediaConstraints","stream","navigator","mediaDevices","getUserMedia","err","addTracksToPeerConnection","_stream","_pc","getTracks","track","addTrack","pc","createPeerConnection","peerConnectionConfiguration","iceServers","ontrack","streams","_remoteStream","audioStream","MediaStream","getAudioTracks","audioEl","style","controls","volume","srcObject","play","videoStream","getVideoTracks","remoteVideoElement","onicecandidate","hasOwnProperty","createOffer","disableOutgoingStream","enabled","enableOutgoingStream","onPlayerMove","glScene","getPlayerPosition","createScene","Scene","domElement","_width","innerWidth","_height","innerHeight","clearColor","createClientVideoElement","videoTexture","videoMaterial","canvasEl","makeVideoTextureAndMaterial","head","box","getObject3D","material","removeClientVideoElementAndCanvas","createLocalVideoElement","videoElement","autoplay","videoEl","rvideoImageCanvas","rvideoImageContext","fillStyle","fillRect","THREE","Texture","minFilter","LinearFilter","magFilter","movieMaterial","MeshBasicMaterial","overdraw","side","DoubleSide","exports","formatArgs","save","load","useColors","storage","localstorage","destroy","warned","colors","process","__nwjs","userAgent","toLowerCase","match","documentElement","WebkitAppearance","firebug","exception","table","parseInt","RegExp","$1","args","namespace","humanize","diff","c","color","splice","index","lastC","replace","debug","namespaces","setItem","removeItem","r","getItem","localStorage","require","formatters","j","stringify","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","Error","defaultClearTimeout","clearTimeout","runTimeout","fun","runClearTimeout","marker","queue","draining","currentQueue","queueIndex","cleanUpNextTick","drainQueue","timeout","len","run","nextTick","arguments","Item","array","prototype","title","browser","env","argv","version","versions","noop","addListener","once","off","removeListener","removeAllListeners","prependListener","prependOnceListener","listeners","name","binding","cwd","chdir","dir","umask","Transport","parser","parseqs","yeast","pick","usingBrowserWebSocket","defaultBinaryType","isReactNative","product","WS","constructor","opts","supportsBinary","forceBase64","doOpen","check","uri","protocols","extraHeaders","headers","binaryType","addEventListeners","self","onopen","onOpen","onClose","ev","onData","onError","write","packets","writable","total","l","packet","encodePacket","options","compress","perMessageDeflate","Buffer","byteLength","threshold","send","done","doClose","close","query","secure","Number","timestampRequests","timestampParam","b64","encode","ipv6","path","base64","ieee754","customInspectSymbol","Symbol","SlowBuffer","INSPECT_MAX_BYTES","K_MAX_LENGTH","kMaxLength","TYPED_ARRAY_SUPPORT","typedArraySupport","arr","Uint8Array","proto","foo","setPrototypeOf","defineProperty","enumerable","get","isBuffer","undefined","buffer","byteOffset","createBuffer","RangeError","buf","arg","encodingOrOffset","TypeError","allocUnsafe","from","poolSize","value","fromString","ArrayBuffer","isView","fromArrayView","isInstance","fromArrayBuffer","SharedArrayBuffer","valueOf","b","fromObject","toPrimitive","assertSize","size","alloc","fill","encoding","checked","allocUnsafeSlow","string","isEncoding","actual","slice","fromArrayLike","arrayView","copy","obj","numberIsNaN","toString","_isBuffer","compare","a","offset","x","y","Math","min","String","list","pos","set","mustMatch","loweredCase","utf8ToBytes","base64ToBytes","slowToString","start","end","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","n","m","swap16","swap32","swap64","toLocaleString","equals","inspect","str","max","trim","target","thisStart","thisEnd","thisCopy","targetCopy","bidirectionalIndexOf","val","arrayIndexOf","lastIndexOf","indexSize","arrLength","valLength","read","readUInt16BE","foundIndex","found","includes","hexWrite","remaining","strLen","parsed","substr","utf8Write","blitBuffer","asciiWrite","asciiToBytes","base64Write","ucs2Write","utf16leToBytes","isFinite","toJSON","_arr","fromByteArray","res","firstByte","codePoint","bytesPerSequence","secondByte","thirdByte","fourthByte","tempCodePoint","decodeCodePointsArray","MAX_ARGUMENTS_LENGTH","codePoints","fromCharCode","ret","out","hexSliceLookupTable","bytes","newBuf","subarray","checkOffset","ext","readUintLE","readUIntLE","noAssert","mul","readUintBE","readUIntBE","readUint8","readUInt8","readUint16LE","readUInt16LE","readUint16BE","readUint32LE","readUInt32LE","readUint32BE","readUInt32BE","readIntLE","pow","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","checkInt","writeUintLE","writeUIntLE","maxBytes","writeUintBE","writeUIntBE","writeUint8","writeUInt8","writeUint16LE","writeUInt16LE","writeUint16BE","writeUInt16BE","writeUint32LE","writeUInt32LE","writeUint32BE","writeUInt32BE","writeIntLE","limit","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","checkIEEE754","writeFloat","littleEndian","writeFloatLE","writeFloatBE","writeDouble","writeDoubleLE","writeDoubleBE","targetStart","copyWithin","code","charCodeAt","INVALID_BASE64_RE","base64clean","units","Infinity","leadSurrogate","byteArray","hi","lo","toByteArray","src","dst","alphabet","i16"],"version":3,"file":"webrtc.component.f98cc5fc.js.map","sourceRoot":"/__parcel_source_root/"}